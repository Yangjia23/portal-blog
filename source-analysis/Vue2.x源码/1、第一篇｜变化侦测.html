<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ä¸€ã€å¯¹ Object çš„ç›‘æµ‹ | å‰ç«¯å£¹ç”²å£¹</title>
    <meta name="description" content="Focus on Yourself!">
    <link rel="stylesheet" href="/portal-blog/assets/style.ad1c1f1c.css">
    <link rel="modulepreload" href="/portal-blog/assets/Home.6008d237.js">
    <link rel="modulepreload" href="/portal-blog/assets/app.a1522aa7.js">
    <link rel="modulepreload" href="/portal-blog/assets/source-analysis_Vue2.xæºç _1ã€ç¬¬ä¸€ç¯‡ï½œå˜åŒ–ä¾¦æµ‹.md.9b49a9c5.lean.js">
    <link rel="modulepreload" href="/portal-blog/assets/app.a1522aa7.js">
    <meta name="twitter:title" content="ä¸€ã€å¯¹ Object çš„ç›‘æµ‹ | å‰ç«¯å£¹ç”²å£¹">
    <meta property="og:title" content="ä¸€ã€å¯¹ Object çš„ç›‘æµ‹ | å‰ç«¯å£¹ç”²å£¹">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/portal-blog/" aria-label="å‰ç«¯å£¹ç”²å£¹, back to home" data-v-675d8756 data-v-4a583abe><!----> å‰ç«¯å£¹ç”²å£¹</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/" data-v-b8818f8c>é¦–é¡µ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/frontend-graph/README" data-v-b8818f8c>å‰ç«¯å›¾è°± <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/project-develop/README" data-v-b8818f8c>é¡¹ç›®å®æˆ˜ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/portal-blog/source-analysis/README" data-v-b8818f8c>å­¦ä¹ æ€»ç»“ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/about/README" data-v-b8818f8c>å…³äº <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/Yangjia23" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/" data-v-b8818f8c>é¦–é¡µ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/frontend-graph/README" data-v-b8818f8c>å‰ç«¯å›¾è°± <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/project-develop/README" data-v-b8818f8c>é¡¹ç›®å®æˆ˜ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/portal-blog/source-analysis/README" data-v-b8818f8c>å­¦ä¹ æ€»ç»“ <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/about/README" data-v-b8818f8c>å…³äº <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/Yangjia23" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">Visualization</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/Visualization/1ã€çº¿æ€§ä»£æ•°çš„æœ¬è´¨-å­¦ä¹ ç¬”è®°">1ã€çº¿æ€§ä»£æ•°çš„æœ¬è´¨-å­¦ä¹ ç¬”è®°</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue2.xæºç </p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item active" href="/portal-blog/source-analysis/Vue2.xæºç /1ã€ç¬¬ä¸€ç¯‡ï½œå˜åŒ–ä¾¦æµ‹">1ã€ç¬¬ä¸€ç¯‡ï½œå˜åŒ–ä¾¦æµ‹</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#ä¸€ã€å¯¹-object-çš„ç›‘æµ‹">ä¸€ã€å¯¹ Object çš„ç›‘æµ‹</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ">1.1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ">1.2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ">1.3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key">1.4ã€ç›‘æµ‹æ‰€æœ‰çš„ key</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-5ã€å±€é™æ€§">1.5ã€å±€é™æ€§</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-6ã€å°ç»“">1.6ã€å°ç»“</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#äºŒã€å¯¹-array-çš„ç›‘æµ‹">äºŒã€å¯¹ Array çš„ç›‘æµ‹</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-1ã€æ‹¦æˆªå™¨">2.1ã€æ‹¦æˆªå™¨</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ">2.2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-3ã€å­˜å‚¨ä¾èµ–">2.3ã€å­˜å‚¨ä¾èµ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-4ã€æ”¶é›†ä¾èµ–">2.4ã€æ”¶é›†ä¾èµ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-5ã€é€šçŸ¥ä¾èµ–">2.5ã€é€šçŸ¥ä¾èµ–</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-6ã€å±€é™æ€§">2.6ã€å±€é™æ€§</a><!----></li></ul></li></ul></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Webpack</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/Webpack/1ã€å¦‚ä½•è°ƒè¯•Webpackæºç ">1ã€å¦‚ä½•è°ƒè¯•Webpackæºç </a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">å‰ç«¯è¿ç»´</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/å‰ç«¯è¿ç»´/1ã€Linux å‘½ä»¤æ±‡æ€»">1ã€Linux å‘½ä»¤æ±‡æ€»</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/å‰ç«¯è¿ç»´/2ã€Vimå‘½ä»¤æ±‡æ€»">2ã€Vimå‘½ä»¤æ±‡æ€»</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/å‰ç«¯è¿ç»´/3ã€æ–‡ä»¶æƒé™">3ã€æ–‡ä»¶æƒé™</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/source-analysis/å‰ç«¯è¿ç»´/4ã€nginxå­¦ä¹ ">4ã€nginxå­¦ä¹ </a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>è¿™æ˜¯ Vue2.x æºç åˆ†æçš„ç¬¬ä¸€ç¯‡ï¼Œä»‹ç»åœ¨ vue.js ä¸­å¦‚ä½•å¯¹ <code>Object</code> å’Œ <code>Array</code> è¿›è¡Œå˜åŒ–ä¾¦æµ‹çš„</p><p>Vue.js çš„æ¸²æŸ“è¿‡ç¨‹æ˜¯å£°æ˜å¼çš„ï¼Œå½“å†…éƒ¨çš„çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œéœ€è¦ä¸æ–­è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå˜åŒ–ä¾¦æµ‹å°±æ˜¯æ¥ç›‘å¬å†…éƒ¨çŠ¶æ€çš„å˜åŒ–ã€‚</p><h2 id="ä¸€ã€å¯¹-object-çš„ç›‘æµ‹"><a class="header-anchor" href="#ä¸€ã€å¯¹-object-çš„ç›‘æµ‹" aria-hidden="true">#</a> ä¸€ã€å¯¹ Object çš„ç›‘æµ‹</h2><p>åœ¨ JS ä¸­å¯ä»¥ä½¿ç”¨ <code>Object.defineProperty</code> å’Œ <code>Proxy</code> è¿™ä¸¤ä¸ªæ–¹æ³•æ¥ç›‘æµ‹å˜åŒ–ï¼ŒVue 2.x ç‰ˆæœ¬è€ƒè™‘åˆ°å…¼å®¹æ€§ä½¿ç”¨çš„æ˜¯ <code>Object.defineProperty</code> æ–¹æ³•ï¼Œè€Œåœ¨ Vue 3.x ä¸­ä½¿ç”¨çš„æ˜¯ <code>Proxy</code>ï¼Œåç»­ä»‹ç»</p><p>åœ¨ Vue æºç ä¸­ï¼Œå¯¹ <code>Object.defineProperty</code> å°è£…å¦‚ä¸‹</p><div class="language-js"><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      val <span class="token operator">=</span> newVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œå½“ä»<code>data</code>çš„<code>key</code>ä¸­è¯»å–æ•°æ®æ—¶ï¼Œ<code>get</code>å‡½æ•°è¢«è§¦å‘ï¼›å½“å¾€<code>data</code>çš„<code>key</code>ä¸­è®¾ç½®æ•°æ®ï¼Œ<code>set</code>å‡½æ•°è¢«è§¦å‘</p><h3 id="_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"><a class="header-anchor" href="#_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ" aria-hidden="true">#</a> 1.1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ</h3><p>åœ¨ä¸Šé¢ä½¿ç”¨ <code>Object.defineProperty</code> å¯¹æ•°æ®ç›‘æµ‹ï¼Œæ˜¯å› ä¸ºå½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œéœ€è¦é€šçŸ¥åˆ°é‚£äº›ä½¿ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ï¼Œä¾‹å¦‚ğŸ‘‡</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>{{ title }}<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>åœ¨ç»„ä»¶çš„ <code>tempalte</code> ä¸­ä½¿ç”¨æ¥æ•°æ® <code>title</code>, æ‰€ä»¥å½“ <code>title</code> å˜åŒ–äº†ï¼Œéœ€è¦é€šçŸ¥åˆ° <code>tempalte</code></p><p>æ€»ç»“å°±æ˜¯ï¼š<strong>åœ¨<code>getter</code>ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨<code>setter</code>ä¸­è§¦å‘(é€šçŸ¥)ä¾èµ–</strong></p><h3 id="_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ"><a class="header-anchor" href="#_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ" aria-hidden="true">#</a> 1.2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ</h3><p>åœ¨ Vue æºç ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ª <code>Dep</code> ç±»æ¥å°è£…ä¾èµ–æ”¶é›†çš„ä»£ç ï¼Œé€šè¿‡è¿™ä¸ªç±»ï¼Œå¯ä»¥<strong>æ”¶é›†ä¾èµ–</strong>ã€<strong>åˆ é™¤ä¾èµ–</strong>æˆ–è€…<strong>å‘ä¾èµ–å‘é€šçŸ¥</strong></p><div class="language-js"><pre><code><span class="token comment">/*
@filePath: src/core/observer/dep.js
*/</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token keyword">class</span> <span class="token class-name">Dep</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// ç”¨äº†å­˜å‚¨ä¾èµ–</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>
  <span class="token punctuation">}</span>

  <span class="token function">addSub</span> <span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>sub<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">removeSub</span> <span class="token punctuation">(</span><span class="token parameter">sub</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">remove</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">,</span> sub<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>

  <span class="token function">depend</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>window<span class="token punctuation">.</span>target<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">addSub</span><span class="token punctuation">(</span>window<span class="token punctuation">.</span>target<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">notify</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> subs <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>subs<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> subs<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      subs<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">.</span><span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ <code>defineReactive</code> å‡½æ•°ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ Dep ç±»äº†</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 1ã€æ¯ä¸ª key éƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹æ¥å­˜å‚¨è¯¥å±æ€§çš„ä¾èµ–</span>
  <span class="token keyword">const</span> dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2ã€å½“è·å–å±æ€§æ—¶ï¼Œæ”¶é›†ä¾èµ–</span>
      dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token keyword">return</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      val <span class="token operator">=</span> newVal
      <span class="token comment">// 3ã€å½“å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œé€šçŸ¥ä¾èµ–</span>
      dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨æ”¶é›†ä¾èµ–å‰ï¼Œæˆ‘ä»¬å‡è®¾äº†ä¾èµ–ä¿å­˜åœ¨ <code>window.target</code> ä¸Šäº†ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ”¶é›†çš„ä¾èµ–æ˜¯å­˜å‚¨åˆ° <code>Dep</code> ä¸­çš„</p><h3 id="_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ"><a class="header-anchor" href="#_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ" aria-hidden="true">#</a> 1.3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ</h3><p>ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨åˆ°æ•°æ®çš„åœ°æ–¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦é€šçŸ¥åˆ°çš„åœ°æ–¹ã€‚ä»¥ <code>data</code> ä¸­çš„æ•°æ®ä¸ºä¾‹ï¼Œåœ¨ <code>template</code>ã€<code>computed</code>ã€<code>watch</code> ç­‰å¤šä¸ªåœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥ï¼ŒVue.js å†…éƒ¨æŠ½è±¡å‡ºä¸€ä¸ªèƒ½é›†ä¸­å¤„ç†è¿™äº›æƒ…å†µçš„ç±»ï¼Œæ”¶é›†ä¾èµ–æ—¶ï¼Œåªéœ€è¦æ”¶é›†è¿™ä¸ªç±»çš„å®ä¾‹ï¼ŒåŒæ—¶é€šçŸ¥ä¹Ÿåªéœ€è¦é€šçŸ¥åˆ°å®ƒä¸€ä¸ªï¼Œå®ƒå†é€šçŸ¥åˆ°å…¶ä»–åœ°æ–¹ï¼Œè¿™ä¸ªç±»å«åš <strong>Watcher</strong></p><p>æ‰€ä»¥ï¼Œæ”¶é›†ä¾èµ–ï¼Œå°±æ˜¯æ”¶é›† <strong>Watcher</strong> å®ä¾‹</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><div class="highlighted">Â </div><br><br><br><br><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/watcher.js
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Watcher</span><span class="token punctuation">{</span>
  <span class="token function">constructor</span><span class="token punctuation">(</span><span class="token parameter">vm<span class="token punctuation">,</span> expOrFn<span class="token punctuation">,</span> cb</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>vm <span class="token operator">=</span> vm
    <span class="token keyword">this</span><span class="token punctuation">.</span>getter <span class="token operator">=</span> <span class="token function">parsePath</span><span class="token punctuation">(</span>expOrFn<span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>cb <span class="token operator">=</span> cb
    <span class="token comment">// 1ã€åˆå§‹åŒ–ï¼Œè°ƒç”¨ this.get() =&gt; this.getter()</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 2ã€å½“å‰ Watcher å®ä¾‹ä¿å­˜åœ¨ window.target ä¸Š</span>
    window<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">this</span>
    <span class="token keyword">let</span> value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getter</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">)</span>
    window<span class="token punctuation">.</span>target <span class="token operator">=</span> <span class="token keyword">undefined</span>
    <span class="token keyword">return</span> value
  <span class="token punctuation">}</span>
  <span class="token function">update</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
    <span class="token comment">// 3ã€å±æ€§å˜åŒ–ï¼Œé€šçŸ¥ä¾èµ–ä¼šè°ƒç”¨ update æ–¹æ³•, å†å»æ‰§è¡Œå›è°ƒå‡½æ•°cb</span>
    <span class="token keyword">const</span> oldValue <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">get</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">cb</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">.</span>vm<span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">.</span>value<span class="token punctuation">,</span> oldValue<span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ <code>vm.$watch(&#39;obj.name&#39;,(value, oldValue) =&gt; {})</code> è¿˜æ˜¯æ¨¡ç‰ˆä¸­ä½¿ç”¨<code>obj.name</code>, å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½éœ€è¦é€šè¿‡ <code>Watcher</code> æ¥è¿›è¡Œé€šçŸ¥ï¼Œæ‰§è¡Œå„ç§çš„å›è°ƒå‡½æ•°</p><h3 id="_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key"><a class="header-anchor" href="#_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key" aria-hidden="true">#</a> 1.4ã€ç›‘æµ‹æ‰€æœ‰çš„ key</h3><p><code>defineReactive</code> æ–¹æ³•æ˜¯ç›‘æµ‹æ•°æ®ä¸­çš„å•ä¸ªå±æ€§ï¼Œè€Œæˆ‘ä»¬éœ€è¦ç›‘æµ‹åˆ°æ‰€æœ‰çš„å±æ€§ï¼ˆåŒ…æ‹¬å­å±æ€§ï¼‰ï¼Œå°†å…¶éƒ½è½¬æ¢æˆ <code>getter/setter</code> çš„å½¢å¼</p><div class="language-js"><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">walk</span> <span class="token punctuation">(</span><span class="token parameter">obj<span class="token operator">:</span> Object</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> keys <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">keys</span><span class="token punctuation">(</span>obj<span class="token punctuation">)</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator">&lt;</span> keys<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token function">defineReactive</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">,</span> obj<span class="token punctuation">[</span>keys<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">/*çœç•¥*/</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_1-5ã€å±€é™æ€§"><a class="header-anchor" href="#_1-5ã€å±€é™æ€§" aria-hidden="true">#</a> 1.5ã€å±€é™æ€§</h3><p>Vue.js é€šè¿‡ <code>Object.defineProperty</code> æ¥å°†å¯¹è±¡çš„ key è½¬æ¢æˆ <code>getter/setter</code> çš„å½¢å¼æ¥è¿½è¸ªå˜åŒ–ï¼Œä½† <code>getter/setter</code> åªèƒ½è¿½è¸ªä¸€ä¸ªæ•°æ®æ˜¯å¦è¢«ä¿®æ”¹ï¼Œæ— æ³•è¿½è¸ªæ–°å¢çš„å±æ€§å·²ç»åˆ é™¤çš„å±æ€§ï¼Œä¸ºäº†è§£å†³è¿™é—®é¢˜ï¼ŒVue.js æä¾›äº† <strong><code>$set</code></strong> å’Œ <strong><code>$delete</code></strong> ä¸¤ä¸ªAPI</p><h3 id="_1-6ã€å°ç»“"><a class="header-anchor" href="#_1-6ã€å°ç»“" aria-hidden="true">#</a> 1.6ã€å°ç»“</h3><p>å…³äºå¦‚ä½•ç›‘æµ‹Object,æ±‡æ€»å¦‚ä¸‹å›¾ğŸ‘‡</p><p><img src="/portal-blog/images/vue/defineProperty.png" alt="ç›‘æµ‹Object"></p><h2 id="äºŒã€å¯¹-array-çš„ç›‘æµ‹"><a class="header-anchor" href="#äºŒã€å¯¹-array-çš„ç›‘æµ‹" aria-hidden="true">#</a> äºŒã€å¯¹ Array çš„ç›‘æµ‹</h2><p>å¯¹ Array çš„ç›‘æµ‹ä¸èƒ½ä½¿ç”¨ <code>getter/setter</code> æ–¹æ³•ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¸¸é€šè¿‡ Array åŸå‹ä¸Šçš„æ–¹æ³•æ¥æ”¹å˜æ•°ç»„çš„å†…å®¹</p><p>é€šè¿‡æ±‡æ€»ï¼ŒArray åŸå‹ä¸Šå¯ä»¥æ”¹å˜æ•°ç»„è‡ªèº«å†…å®¹çš„æ–¹æ³•å…± 7 ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š<code>push</code>, <code>pop</code>, <code>shift</code>, <code>unshift</code>, <code>slice</code>, <code>sort</code>, <code>reverse</code></p><h3 id="_2-1ã€æ‹¦æˆªå™¨"><a class="header-anchor" href="#_2-1ã€æ‹¦æˆªå™¨" aria-hidden="true">#</a> 2.1ã€æ‹¦æˆªå™¨</h3><p>æƒ³è¦ç›‘æµ‹æ•°ç»„çš„å˜åŒ–ï¼Œåªéœ€ç”¨ä¸€ä¸ªæ‹¦æˆªå™¨è¦†ç›– ArrayåŸå‹ï¼Œå½“ä½¿ç”¨ä¸Šè¿° 7 ç§æ–¹æ³•ä¿®æ”¹æ•°ç»„æ—¶ï¼Œæ‰§è¡Œçš„æ—¶æ‹¦æˆªå™¨ä¸­çš„æ–¹æ³•</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/array.js
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> def <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../util/index&#39;</span>
<span class="token comment">// 1ã€åŸºäº Array.prototype åˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨</span>
<span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">export</span> <span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>

<span class="token keyword">const</span> methodsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;push&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;pop&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;shift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;unshift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;splice&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;reverse&#39;</span>
<span class="token punctuation">]</span>

methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token comment">// 2ã€åœ¨æ‹¦æˆªå™¨ä¸Šé‡æ–°å®šä¹‰ä¸Šè¿° 7 ä¸ªæ–¹æ³•</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token comment">// 3ã€æ‰§è¡Œæ–¹æ³•æœ¬èº«çš„é€»è¾‘ï¼Œè¿”å›æ‰§è¡Œç»“æœ</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

</code></pre></div><h3 id="_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"><a class="header-anchor" href="#_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ" aria-hidden="true">#</a> 2.2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ</h3><p>å¯¹æ•°ç»„è€Œè¨€ï¼Œé€šçŸ¥ä¾èµ–è‚¯å®šæ˜¯åœ¨æ‹¦æˆªå™¨ä¸­ï¼Œé‚£ä¹ˆï¼Œæ•°ç»„åœ¨å“ªé‡Œæ”¶é›†ä¾èµ–å‘¢ï¼Ÿçœ‹ä¸ªä¾‹å­</p><div class="language-js"><pre><code><span class="token punctuation">{</span>
  list<span class="token operator">:</span> <span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">,</span><span class="token number">2</span><span class="token punctuation">,</span><span class="token number">3</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥ä¸Šé¢æ•°æ®ä¸ºä¾‹ï¼Œåªæœ‰é€šè¿‡ <code>list</code> å±æ€§ï¼Œæ‰èƒ½è·å–è¿™ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆè¯»å– <code>list</code> å±æ€§ï¼Œä¸€å®šä¸ºè§¦å‘<code>list</code>å±æ€§çš„ <code>getter</code> æ–¹æ³•ï¼Œæ‰€ä»¥æ•°ç»„ä¹Ÿæ˜¯åœ¨ <code>getter</code> ä¸­æ”¶é›†ä¾èµ–</p><p>æ‰€ä»¥ï¼Œ<strong>Array åœ¨ getter ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨æ‹¦æˆªå™¨ä¸­è§¦å‘(é€šçŸ¥)ä¾èµ–</strong></p><h3 id="_2-3ã€å­˜å‚¨ä¾èµ–"><a class="header-anchor" href="#_2-3ã€å­˜å‚¨ä¾èµ–" aria-hidden="true">#</a> 2.3ã€å­˜å‚¨ä¾èµ–</h3><p>Array çš„ä¾èµ–ä¹Ÿæ˜¯é€šè¿‡ Dep å®ä¾‹æ¥è¿›è¡Œä¿å­˜ï¼Œä½†ä¸ Object ä¸åŒçš„æ˜¯ï¼ŒVue.js æŠŠ Array çš„ dep æ”¾åˆ° Observer ä¸­äº†ï¼Œè€Œå¯¹è±¡å±æ€§å¯¹åº”çš„ dep åˆ™åœ¨ defineReactive å‡½æ•°ä¸­</p><p>ä¹‹æ‰€ä»¥æ”¾åœ¨ Observer ä¸­, æ˜¯å› ä¸ºåœ¨ getter å’Œæ‹¦æˆªå™¨ä¸­éƒ½éœ€è¦è®¿é—®åˆ°è¿™ä¸ª dep å®ä¾‹</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">Â </div><br><div class="highlighted">Â </div><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>

  <span class="token function">observeArray</span> <span class="token punctuation">(</span><span class="token parameter">items<span class="token operator">:</span> Array<span class="token operator">&lt;</span>any<span class="token operator">&gt;</span></span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">,</span> l <span class="token operator">=</span> items<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i <span class="token operator">&lt;</span> l<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2ã€å¯èƒ½æ˜¯å¯¹è±¡æ•°ç»„ï¼Œéœ€è¦ç›‘æµ‹æ•°ç»„æ¯ä¸€é¡¹</span>
      <span class="token function">observe</span><span class="token punctuation">(</span>items<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-4ã€æ”¶é›†ä¾èµ–"><a class="header-anchor" href="#_2-4ã€æ”¶é›†ä¾èµ–" aria-hidden="true">#</a> 2.4ã€æ”¶é›†ä¾èµ–</h3><p>æˆ‘ä»¬éœ€è¦åœ¨ getter ä¸­è®¿é—®åˆ° dep å®ä¾‹ï¼Œæ‰èƒ½æ”¶é›†ä¾èµ–ï¼Œä»£ç å¦‚ä¸‹</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">function</span> <span class="token function">defineReactive</span><span class="token punctuation">(</span><span class="token parameter">obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> val</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token comment">// 1ã€æ­¤å¤„å‡è®¾ val æ˜¯ä¸ªæ•°ç»„</span>
  <span class="token keyword">let</span> childOb <span class="token operator">=</span> <span class="token function">observer</span><span class="token punctuation">(</span>val<span class="token punctuation">)</span>
  Object<span class="token punctuation">.</span><span class="token function">defineProperty</span><span class="token punctuation">(</span>obj<span class="token punctuation">,</span> key<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    enumerable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    configurable<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token function-variable function">get</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveGetter</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token comment">// 2ã€æ”¶é›†ä¾èµ–</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>childOb<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        childOb<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">depend</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">return</span> value
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token function-variable function">set</span><span class="token operator">:</span> <span class="token keyword">function</span> <span class="token function">reactiveSetter</span> <span class="token punctuation">(</span><span class="token parameter">newVal</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span>newVal <span class="token operator">===</span> val<span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">return</span>
      <span class="token punctuation">}</span>
      val <span class="token operator">=</span> newVal
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

<span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">observe</span> <span class="token punctuation">(</span><span class="token parameter">value</span><span class="token punctuation">)</span><span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token function">isObject</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token operator">||</span> value <span class="token keyword">instanceof</span> <span class="token class-name">VNode</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">return</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">let</span> ob<span class="token operator">:</span> Observer <span class="token operator">|</span> <span class="token keyword">void</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token function">hasOwn</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&#39;__ob__&#39;</span><span class="token punctuation">)</span> <span class="token operator">&amp;&amp;</span> value<span class="token punctuation">.</span>__ob__ <span class="token keyword">instanceof</span> <span class="token class-name">Observer</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    ob <span class="token operator">=</span> value<span class="token punctuation">.</span>__ob__ <span class="token comment">// å½“æ•°æ®å·²ç»æ£€æµ‹è¿‡ï¼Œç›´æ¥è¿”å›</span>
  <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
    ob <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Observer</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">// è¿›è¡Œæ£€æµ‹</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">return</span> ob
<span class="token punctuation">}</span>
</code></pre></div><p>ä»¥æ•°æ® <code>list: [1,2,3]</code> ä¸ºä¾‹ï¼Œå½“è®¿é—®å±æ€§ list, ä¼šå¯¹æ•°ç»„ <code>[1,2,3]</code> è¿›è¡Œç›‘æµ‹</p><h3 id="_2-5ã€é€šçŸ¥ä¾èµ–"><a class="header-anchor" href="#_2-5ã€é€šçŸ¥ä¾èµ–" aria-hidden="true">#</a> 2.5ã€é€šçŸ¥ä¾èµ–</h3><p>Array å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦åœ¨æ‹¦æˆªå™¨ä¸­è®¿é—®åˆ° Observer å®ä¾‹ï¼Œé€šè¿‡å…¶ dep å±æ€§é€šçŸ¥ä¾èµ–</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><br><br><div class="highlighted">Â </div><br><br><br><br><br><br><br><br><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/index.js
*/</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">Observer</span> <span class="token punctuation">{</span>
  <span class="token function">constructor</span> <span class="token punctuation">(</span><span class="token parameter">value<span class="token operator">:</span> any</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>value <span class="token operator">=</span> value
    <span class="token keyword">this</span><span class="token punctuation">.</span>dep <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Dep</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">def</span><span class="token punctuation">(</span>value<span class="token punctuation">,</span> <span class="token string">&#39;__ob__&#39;</span><span class="token punctuation">,</span> <span class="token keyword">this</span><span class="token punctuation">)</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>Array<span class="token punctuation">.</span><span class="token function">isArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> 
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
      <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">walk</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
  <span class="token comment">//...</span>
<span class="token punctuation">}</span>
</code></pre></div><p>åœ¨ <code>value</code> ä¸Šå¢åŠ  <code>__ob__</code> å±æ€§å³å¯è®¿é—®åˆ° <code>Observer</code> å®ä¾‹ï¼Œç»§è€Œå¯ä»¥è®¿é—® <code>dep</code> å±æ€§</p><p>æ¥ä¸‹æ¥ï¼Œåªéœ€è¦åœ¨æ‹¦æˆªå™¨ä¸­é€šçŸ¥ä¾èµ–, åŒæ—¶ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ <code>push</code>, <code>unshift</code>, <code>splice</code> æ—¶ä¼šå¾€æ•°ç»„ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œæ–°å¢çš„å…ƒç´ ä¹Ÿéœ€è¦è¢«ç›‘æµ‹åˆ°ã€‚</p><div class="language-js"><div class="highlight-lines"><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><br><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><div class="highlighted">Â </div><br><br><br><br></div><pre><code><span class="token comment">/*
@filePath: src/core/observer/array.js
*/</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> def <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;../util/index&#39;</span>
<span class="token keyword">const</span> arrayProto <span class="token operator">=</span> <span class="token class-name">Array</span><span class="token punctuation">.</span>prototype
<span class="token keyword">export</span> <span class="token keyword">const</span> arrayMethods <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">create</span><span class="token punctuation">(</span>arrayProto<span class="token punctuation">)</span>

<span class="token keyword">const</span> methodsToPatch <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token string">&#39;push&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;pop&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;shift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;unshift&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;splice&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;sort&#39;</span><span class="token punctuation">,</span>
  <span class="token string">&#39;reverse&#39;</span>
<span class="token punctuation">]</span>

methodsToPatch<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token keyword">function</span> <span class="token punctuation">(</span><span class="token parameter">method</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> original <span class="token operator">=</span> arrayProto<span class="token punctuation">[</span>method<span class="token punctuation">]</span>
  <span class="token function">def</span><span class="token punctuation">(</span>arrayMethods<span class="token punctuation">,</span> method<span class="token punctuation">,</span> <span class="token keyword">function</span> <span class="token function">mutator</span> <span class="token punctuation">(</span><span class="token parameter"><span class="token operator">...</span>args</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> result <span class="token operator">=</span> <span class="token function">original</span><span class="token punctuation">.</span><span class="token function">apply</span><span class="token punctuation">(</span><span class="token keyword">this</span><span class="token punctuation">,</span> args<span class="token punctuation">)</span>
    <span class="token keyword">const</span> ob <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span>__ob__
    <span class="token keyword">let</span> inserted
    <span class="token keyword">switch</span> <span class="token punctuation">(</span>method<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">case</span> <span class="token string">&#39;push&#39;</span><span class="token operator">:</span>
      <span class="token keyword">case</span> <span class="token string">&#39;unshift&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args
        <span class="token keyword">break</span>
      <span class="token keyword">case</span> <span class="token string">&#39;splice&#39;</span><span class="token operator">:</span>
        inserted <span class="token operator">=</span> args<span class="token punctuation">.</span><span class="token function">slice</span><span class="token punctuation">(</span><span class="token number">2</span><span class="token punctuation">)</span>
        <span class="token keyword">break</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>inserted<span class="token punctuation">)</span> ob<span class="token punctuation">.</span><span class="token function">observeArray</span><span class="token punctuation">(</span>inserted<span class="token punctuation">)</span>
    <span class="token comment">// notify change</span>
    ob<span class="token punctuation">.</span>dep<span class="token punctuation">.</span><span class="token function">notify</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">return</span> result
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><h3 id="_2-6ã€å±€é™æ€§"><a class="header-anchor" href="#_2-6ã€å±€é™æ€§" aria-hidden="true">#</a> 2.6ã€å±€é™æ€§</h3><p>é€šè¿‡ Array ä¸‹æ ‡ä¿®æ”¹å…ƒç´ çš„å€¼ï¼Œæˆ–è€…è®¾ç½® list.length = 0 æ¥æ¸…ç©ºæ•°ç»„ç­‰ï¼ŒVue.js éƒ½æ— æ³•ç›‘æµ‹æ•°ç»„çš„å˜åŒ–</p></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/portal-blog/source-analysis/Visualization/1ã€çº¿æ€§ä»£æ•°çš„æœ¬è´¨-å­¦ä¹ ç¬”è®°" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>1ã€çº¿æ€§ä»£æ•°çš„æœ¬è´¨-å­¦ä¹ ç¬”è®°</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/portal-blog/source-analysis/Webpack/1ã€å¦‚ä½•è°ƒè¯•Webpackæºç " data-v-38ede35f><span class="text" data-v-38ede35f>1ã€å¦‚ä½•è°ƒè¯•Webpackæºç </span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"59265b5e\",\"frontend-graph_readme.md\":\"bdd7395f\",\"project-develop_readme.md\":\"05308361\",\"project-develop_index.md\":\"f0f94360\",\"source-analysis_readme.md\":\"1f71e39f\",\"frontend-graph_css_1ã€é¡µé¢å¸ƒå±€åŸç†.md\":\"2fa858be\",\"frontend-graph_css_2ã€å¸¸è§çš„é¡µé¢å¸ƒå±€åŠæŠ€å·§.md\":\"b4690cf2\",\"frontend-graph_css_3ã€ä¸€æ–‡æ±‡æ€»å…ƒç´ å±…ä¸­çš„9ç§åŠæ³•.md\":\"69c0375a\",\"frontend-graph_css_4ã€cssä¸­çš„åŠ¨ç”».md\":\"3b361a3e\",\"frontend-graph_css_5ã€é¢è¯•é¢˜æ±‡æ€».md\":\"94bcbf2d\",\"frontend-graph_css_6ã€cssèµ„æºæ±‡æ€».md\":\"9bf80206\",\"frontend-graph_html_2ã€ç§»åŠ¨ç«¯h5\\\"è¸©å‘\\\"æ€»ç»“.md\":\"b581f2bb\",\"frontend-graph_html_3ã€æµè§ˆå™¨è§£æhtmlæµç¨‹.md\":\"3229be97\",\"frontend-graph_javascript_1ã€jsä¸­çš„åŸºç¡€çŸ¥è¯†.md\":\"8879e789\",\"frontend-graph_javascript_2ã€é¢å‘å¯¹è±¡å’ŒåŸå‹.md\":\"5a427251\",\"frontend-graph_javascript_3ã€jsä¸­çš„thiså’Œé—­åŒ….md\":\"d3459ff6\",\"frontend-graph_javascript_4ã€jsä»£ç æ‰§è¡Œæœºåˆ¶.md\":\"84d7b419\",\"frontend-graph_javascript_5ã€jsä¸­çš„å¼‚æ­¥.md\":\"a1d3272d\",\"frontend-graph_javascript_6ã€æ‰‹å†™promiseæ±‡æ€».md\":\"7b16a8e0\",\"frontend-graph_javascript_7ã€30ä¸ªapiæ‰‹å†™å®ç°.md\":\"dd192aa0\",\"frontend-graph_javascript_8ã€é«˜é¢‘é¢è¯•é¢˜æ±‡æ€».md\":\"6abb721c\",\"frontend-graph_vue_1ã€vueé¢è¯•é¢˜æ±‡æ€».md\":\"06ef4986\",\"frontend-graph_å·¥ç¨‹åŒ–_1ã€æ¨¡å—åŒ–æœºåˆ¶.md\":\"ac2f2d41\",\"frontend-graph_å·¥ç¨‹åŒ–_2ã€webpack å·¥ä½œæµç¨‹.md\":\"05a49a0d\",\"frontend-graph_å·¥ç¨‹åŒ–_3ã€webpack loaderæœºåˆ¶.md\":\"9a119e72\",\"frontend-graph_å·¥ç¨‹åŒ–_4ã€webpack pluginæœºåˆ¶.md\":\"c8df7f37\",\"frontend-graph_å·¥ç¨‹åŒ–_5ã€webpack ä¼˜åŒ–ç­–ç•¥.md\":\"1d5b90dc\",\"frontend-graph_æµè§ˆå™¨_1ã€æµè§ˆå™¨ç¼“å­˜.md\":\"ea0a9e79\",\"frontend-graph_æµè§ˆå™¨_2ã€æµè§ˆå™¨æ¶æ„.md\":\"8251b14f\",\"frontend-graph_æµè§ˆå™¨_3ã€æµè§ˆå™¨çš„å·¥ä½œåŸç†.md\":\"4f0c701b\",\"frontend-graph_æµè§ˆå™¨_4ã€ä¸€æ–‡æ±‡æ€»9ç§è·¨åŸŸæ–¹æ³•.md\":\"6981bd06\",\"frontend-graph_æµè§ˆå™¨_5ã€å…¨é¢æ€»ç»“webæ€§èƒ½ä¼˜åŒ–.md\":\"6deefcaa\",\"project-develop_vue_vue3 + vite æ­å»ºuiç»„ä»¶åº“.md\":\"fd5c2d6f\",\"source-analysis_visualization_1ã€çº¿æ€§ä»£æ•°çš„æœ¬è´¨-å­¦ä¹ ç¬”è®°.md\":\"09541664\",\"source-analysis_vue2.xæºç _1ã€ç¬¬ä¸€ç¯‡ï½œå˜åŒ–ä¾¦æµ‹.md\":\"9b49a9c5\",\"source-analysis_webpack_1ã€å¦‚ä½•è°ƒè¯•webpackæºç .md\":\"92dd0c66\",\"source-analysis_å‰ç«¯è¿ç»´_1ã€linux å‘½ä»¤æ±‡æ€».md\":\"411fae79\",\"source-analysis_å‰ç«¯è¿ç»´_2ã€vimå‘½ä»¤æ±‡æ€».md\":\"ffa7bd63\",\"source-analysis_å‰ç«¯è¿ç»´_3ã€æ–‡ä»¶æƒé™.md\":\"1f4f12ce\",\"source-analysis_å‰ç«¯è¿ç»´_4ã€nginxå­¦ä¹ .md\":\"51c45baa\"}")</script>
    <script type="module" async src="/portal-blog/assets/app.a1522aa7.js"></script>
  </body>
</html>