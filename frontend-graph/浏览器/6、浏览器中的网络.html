<!DOCTYPE html>
<html lang="zh-CN">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>一、完成使命的 HTTP/1 | 前端壹甲壹</title>
    <meta name="description" content="Focus on Yourself!">
    <link rel="stylesheet" href="/portal-blog/assets/style.ad1c1f1c.css">
    <link rel="modulepreload" href="/portal-blog/assets/Home.4297b528.js">
    <link rel="modulepreload" href="/portal-blog/assets/app.5c37ca96.js">
    <link rel="modulepreload" href="/portal-blog/assets/frontend-graph_浏览器_6、浏览器中的网络.md.b8cd6fd1.lean.js">
    <link rel="modulepreload" href="/portal-blog/assets/app.5c37ca96.js">
    <meta name="twitter:title" content="一、完成使命的 HTTP/1 | 前端壹甲壹">
    <meta property="og:title" content="一、完成使命的 HTTP/1 | 前端壹甲壹">
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-675d8756><div class="sidebar-button" data-v-675d8756><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/portal-blog/" aria-label="前端壹甲壹, back to home" data-v-675d8756 data-v-4a583abe><!----> 前端壹甲壹</a><div class="flex-grow" data-v-675d8756></div><div class="nav" data-v-675d8756><nav class="nav-links" data-v-675d8756 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/" data-v-b8818f8c>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/portal-blog/frontend-graph/README" data-v-b8818f8c>前端图谱 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/project-develop/README" data-v-b8818f8c>项目实战 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/source-analysis/README" data-v-b8818f8c>学习总结 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/about/README" data-v-b8818f8c>关于 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/Yangjia23" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-83e92a68><nav class="nav-links nav" data-v-83e92a68 data-v-15acbf05><!--[--><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/" data-v-b8818f8c>首页 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item active" href="/portal-blog/frontend-graph/README" data-v-b8818f8c>前端图谱 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/project-develop/README" data-v-b8818f8c>项目实战 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/source-analysis/README" data-v-b8818f8c>学习总结 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item" href="/portal-blog/about/README" data-v-b8818f8c>关于 <!----></a></div></div><div class="item" data-v-15acbf05><div class="nav-link" data-v-15acbf05 data-v-b8818f8c><a class="item isExternal" href="https://github.com/Yangjia23" target="_blank" rel="noopener noreferrer" data-v-b8818f8c>Github <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-b8818f8c><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-83e92a68><!--[--><li class="sidebar-link"><p class="sidebar-link-item">CSS</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/1、页面布局原理">1、页面布局原理</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/2、常见的页面布局及技巧">2、常见的页面布局及技巧</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/3、一文汇总元素居中的9种办法">3、一文汇总元素居中的9种办法</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/4、CSS中的动画">4、CSS中的动画</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/5、面试题汇总">5、面试题汇总</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/CSS/6、CSS资源汇总">6、CSS资源汇总</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">HTML</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/HTML/1、HTML语义化与新特性">1、HTML语义化与新特性</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/HTML/2、移动端H5&quot;踩坑&quot;总结">2、移动端H5&quot;踩坑&quot;总结</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/HTML/3、浏览器解析HTML流程">3、浏览器解析HTML流程</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">JavaScript</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/1、JS中的基础知识">1、JS中的基础知识</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/2、面向对象和原型">2、面向对象和原型</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/3、JS中的this和闭包">3、JS中的this和闭包</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/4、JS代码执行机制">4、JS代码执行机制</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/5、JS中的异步">5、JS中的异步</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/6、手写Promise汇总">6、手写Promise汇总</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/7、30个API手写实现">7、30个API手写实现</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/JavaScript/8、高频面试题汇总">8、高频面试题汇总</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">Vue</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/Vue/1、Vue面试题汇总">1、Vue面试题汇总</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">工程化</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/工程化/1、模块化机制">1、模块化机制</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/工程化/2、webpack 工作流程">2、webpack 工作流程</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/工程化/3、webpack loader机制">3、webpack loader机制</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/工程化/4、webpack plugin机制">4、webpack plugin机制</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/工程化/5、webpack 优化策略">5、webpack 优化策略</a><!----></li></ul></li><li class="sidebar-link"><p class="sidebar-link-item">浏览器</p><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/1、浏览器缓存">1、浏览器缓存</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/2、浏览器架构">2、浏览器架构</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/3、浏览器的工作原理">3、浏览器的工作原理</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/4、一文汇总9种跨域方法">4、一文汇总9种跨域方法</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/5、全面总结web性能优化">5、全面总结web性能优化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item active" href="/portal-blog/frontend-graph/浏览器/6、浏览器中的网络">6、浏览器中的网络</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#一、完成使命的-http-1">一、完成使命的 HTTP/1</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-1、超文本传输协议-http-0-9">1.1、超文本传输协议 HTTP/0.9</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-2、被浏览器推动的-http-1-0">1.2、被浏览器推动的 HTTP/1.0</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3、缝缝补补的-http-1-1">1.3、缝缝补补的 HTTP/1.1</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3-1、改进持续连接">1.3.1、改进持续连接</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3-2、不成熟的-http-管道化">1.3.2、不成熟的 HTTP 管道化</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3-3、提供虚拟主机的支持">1.3.3、提供虚拟主机的支持</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_1-3-4、客户端-cookie-、安全机制">1.3.4、客户端 Cookie 、安全机制</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#二、目前流行的-http-2">二、目前流行的 HTTP/2</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-1、http-1-1-的主要问题">2.1、HTTP/1.1 的主要问题</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_2-2、http-2-新特性">2.2、HTTP/2 新特性</a><!----></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="#三、未来版本的-http-3">三、未来版本的 HTTP/3</a><ul class="sidebar-links"><li class="sidebar-link"><a class="sidebar-link-item" href="#_3-1、http-2-的缺陷">3.1、HTTP/2 的缺陷</a><!----></li><li class="sidebar-link"><a class="sidebar-link-item" href="#_3-2、http-3-新特性">3.2、HTTP/3 新特性</a><!----></li></ul></li></ul></li><li class="sidebar-link"><a class="sidebar-link-item" href="/portal-blog/frontend-graph/浏览器/7、浏览器安全">7、浏览器安全</a><!----></li></ul></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-7eddb2c4><div class="container" data-v-7eddb2c4><!--[--><!--]--><div style="position:relative;" class="content" data-v-7eddb2c4><div><p>浏览器中的网络，主要介绍的 HTTP 协议，它是浏览器和服务器之间的通信语言，接下来从浏览器发展的视角介绍 HTTP 演进</p><h2 id="一、完成使命的-http-1"><a class="header-anchor" href="#一、完成使命的-http-1" aria-hidden="true">#</a> 一、完成使命的 HTTP/1</h2><h3 id="_1-1、超文本传输协议-http-0-9"><a class="header-anchor" href="#_1-1、超文本传输协议-http-0-9" aria-hidden="true">#</a> 1.1、超文本传输协议 HTTP/0.9</h3><p>HTTP/0.9 在 1991 年提出，最开始的需求是为了学术交流，在网络之间传输 HTML 超文本内容即可，所以被称为 <strong>超文本传输协议</strong>，有以下几个特点</p><ul><li>只有一个请求行，并没有 <strong>HTTP 请求头和请求体</strong>;</li><li>服务器也没有返回头信息，仅返回数据</li><li>因为文件都是 HTML 格式, 返回的文件内容是以 <strong>ASCII 字符流</strong> 来传输的</li></ul><h3 id="_1-2、被浏览器推动的-http-1-0"><a class="header-anchor" href="#_1-2、被浏览器推动的-http-1-0" aria-hidden="true">#</a> 1.2、被浏览器推动的 HTTP/1.0</h3><p>网景公司在 1994 年推出的浏览器，让网络不再局限在学术交流方面，而是带来了更新的需求，浏览器中展示的不止 HTML，还包括 JS，CSS,图片，视频等不同类型的文件，因此 HTTP/1.0 首先需要解决的是<strong>不同类型文件的下载</strong>，同时文件格式不能局限于 <strong>ASCII 编码</strong></p><p>HTTP/1.0 中引入了<strong>请求头</strong>和<strong>响应头</strong>，来支持下载不同类型的数据</p><ul><li><p>发起请求时</p><p>浏览器通过 HTTP 请求头告诉服务器它期待服务器返回<strong>什么类型的文件</strong>、采取<strong>什么形式的压缩</strong>、提供<strong>什么语言的文件</strong>以及<strong>文件的具体编码</strong></p><div class="language-"><pre><code>accept: text/html
accept-encoding: gzip, deflate, br
accept-Charset: ISO-8859-1,utf-8
accept-language: zh-CN,zh
</code></pre></div></li><li><p>响应请求时</p><p>服务器会通过 HTTP 响应头告诉浏览器返回的数据类型、编码类型已经压缩方式等</p><div class="language-"><pre><code>content-encoding: br
content-type: text/html; charset=UTF-8
</code></pre></div></li></ul><p>请求/响应头除了支持下载不同类型的数据，还新增了其他新特性</p><ul><li>引入状态码</li><li>提供了 <strong>Cache 机制</strong>，减少服务器压力</li><li>请求头中还加入了<strong>用户代理</strong>的字段，帮助服务器统计客户端的基础信息</li></ul><h3 id="_1-3、缝缝补补的-http-1-1"><a class="header-anchor" href="#_1-3、缝缝补补的-http-1-1" aria-hidden="true">#</a> 1.3、缝缝补补的 HTTP/1.1</h3><p>HTTP/1.1 是在 HTTP/1.0 的主要问题上进行了改进，包括以下几点</p><h3 id="_1-3-1、改进持续连接"><a class="header-anchor" href="#_1-3-1、改进持续连接" aria-hidden="true">#</a> 1.3.1、改进持续连接</h3><ul><li><p>HTTP/1.0 的缺陷</p><p>每个请求都要经历 <strong>建立 TCP 连接、传输数据、断开 TCP 连接</strong> 3 个阶段</p></li><li><p>改进</p><p>HTTP/1.1 增加持久连接的方法，在一个 TCP 连接上可以传输多个 HTTP 请求，默认开启，请求头为 <code>Connection:keep-alive</code>。</p><p>其优势在于有效减少 TCP 建立连接和断开连接的次数，减少了服务器额外的负担</p><p>目前浏览器中对于同一个域名，默认允许同时建立 6 个 TCP 持久连接</p></li></ul><h3 id="_1-3-2、不成熟的-http-管道化"><a class="header-anchor" href="#_1-3-2、不成熟的-http-管道化" aria-hidden="true">#</a> 1.3.2、不成熟的 HTTP 管道化</h3><ul><li><p>出现的原因</p><p>持久连接虽然减少 TCP 连接，断开次数，但它需要<strong>等到前面的请求返回之后，才能进行下一次请求</strong>；如果  TCP  通道中的某个请求因为某些原因没有及时返回，那么就会阻塞后面的所有请求，这就是 <strong>队头阻塞</strong> 的问题</p></li><li><p>改进</p><p>HTTP 管道化就是为了解决 <strong>队头阻塞</strong> 的问题, 通过管道化技术将多个 HTTP 请求整批发送到服务端，服务端根据请求顺序返回响应数据</p></li><li><p>缺陷</p><p>例如：按照 A,B,C 顺序发起请求，服务端处理请求 A, B 需要 2s, 处理 C 只需 10s，A, B 不能立即返回，必要等到 C 处理结束，按照 A, B, C 的顺序返回</p><p>由于各种原因，FireFox、Chrome 等浏览器最终都放弃了管线化技术。</p></li></ul><h3 id="_1-3-3、提供虚拟主机的支持"><a class="header-anchor" href="#_1-3-3、提供虚拟主机的支持" aria-hidden="true">#</a> 1.3.3、提供虚拟主机的支持</h3><ul><li><p>HTTP/1.0 的缺陷 在 HTTP/1.0 中，每个域名绑定了一个唯一的 IP 地址，因此一个服务器只能支持一个域名。</p></li><li><p>改进</p><p>虚拟主机技术实现在一台物理主机上绑定多个虚拟主机，每个虚拟主机都有自己的单独的域名，这些单独的域名都公用同一个  IP  地址</p><p>HTTP/1.1  的请求头中增加了  <strong>Host</strong>  字段，用来表示当前的域名地址</p></li></ul><h3 id="_1-3-4、客户端-cookie-、安全机制"><a class="header-anchor" href="#_1-3-4、客户端-cookie-、安全机制" aria-hidden="true">#</a> 1.3.4、客户端 Cookie 、安全机制</h3><h2 id="二、目前流行的-http-2"><a class="header-anchor" href="#二、目前流行的-http-2" aria-hidden="true">#</a> 二、目前流行的 HTTP/2</h2><h3 id="_2-1、http-1-1-的主要问题"><a class="header-anchor" href="#_2-1、http-1-1-的主要问题" aria-hidden="true">#</a> 2.1、HTTP/1.1 的主要问题</h3><h4 id="_2-1-1、对带宽的利用率不理想"><a class="header-anchor" href="#_2-1-1、对带宽的利用率不理想" aria-hidden="true">#</a> 2.1.1、对带宽的利用率不理想</h4><ul><li><p>TCP 启动慢</p><p>TCP 为了减少网络拥塞，TCP 发送数据的过程从最开始很慢的速度慢慢达到一个理想速度，这就是 <strong>TCP 慢启动</strong>，类似于汽车起步</p></li><li><p>多条 TCP 会竞争固定带宽</p><p>多个 TCP 连接时，当出现带宽不足，每个 TCP 连接都需要放缓接受数据的速度，但 TCP 连接之间<strong>不能协商让哪些关键资源优先下载</strong></p></li><li><p>队头阻塞</p><p>HTTP 管道化并没有有效解决 队头阻塞 的问题</p></li></ul><h3 id="_2-2、http-2-新特性"><a class="header-anchor" href="#_2-2、http-2-新特性" aria-hidden="true">#</a> 2.2、HTTP/2 新特性</h3><p>针对 HTTP 1.1 的缺陷，HTTP2.0 有以下改进：</p><ul><li><strong>一个域名只使用一个 TCP 长连接来传输数据</strong>，减少 TCP 启动慢已经 TCP 连接之间的竞争</li><li>资源的并行请求，不需要等待其它请求完成</li></ul><p>HTTP2.0 的改进都是引入 <strong>二进制分帧层</strong> 的基础上，利用 <strong>多路复用机制</strong> 来实现的</p><p><img src="/portal-blog/images/browser/http2-duolufuyong.png" alt="http-cache"></p><p>具体数据链路如下：</p><ul><li>请求数据通过 二进制分帧层处理后，会被转换成一个个带有<strong>请求 ID 编号的帧</strong></li><li>服务器接收到所有的帧后，会将相同 ID 的帧合并成一个完整的请求信息</li><li>同时，二进制分帧层会将所有的响应数据转换成一个个带有请求 ID 编号的帧</li><li>浏览器接收到响应帧后，会根据 ID 编号将帧的数据提交跟对应的请求</li></ul><p>在 <strong>二进制分帧层</strong> 的基础上，HTTP 2.0 还支持以下新特性</p><ul><li>设置请求的优先级</li><li>服务器推送</li><li>头部压缩</li></ul><h2 id="三、未来版本的-http-3"><a class="header-anchor" href="#三、未来版本的-http-3" aria-hidden="true">#</a> 三、未来版本的 HTTP/3</h2><h3 id="_3-1、http-2-的缺陷"><a class="header-anchor" href="#_3-1、http-2-的缺陷" aria-hidden="true">#</a> 3.1、HTTP/2 的缺陷</h3><p>HTTP/2 解决了应用层面的队头阻塞问题, 但依然是基于 TCP 协议的，而 TCP 协议存在以下问题</p><h4 id="_3-1-1、tcp-的队头阻塞"><a class="header-anchor" href="#_3-1-1、tcp-的队头阻塞" aria-hidden="true">#</a> 3.1.1、TCP 的队头阻塞</h4><p><strong>TCP队头阻塞</strong>：数据传输过程中，某个数据包丢包会导致整个 TCP 连接处于暂停状态，需要等待丢包的数据被重新传输过来</p><ul><li><p>HTTP/1.1: 一个域名建立 6 个 TCP 连接，一个TCP连接发生阻塞，不影响其它5个TCP连接</p></li><li><p>HTTP/2 : 每个域名只有一个 TCP 长连接，多个请求都在同一个 TCP 管道中，某个数据丢包了，会影响该管道中所有的请求</p></li></ul><p>有测试数据表明, 当系统丢包率达到 2%时，HTTP1.1 的传输效率反而比 HTTP 2 表现的更好</p><h4 id="_3-1-2、tcp-建立连接的延时"><a class="header-anchor" href="#_3-1-2、tcp-建立连接的延时" aria-hidden="true">#</a> 3.1.2、TCP 建立连接的延时</h4><h4 id="_3-1-3、tcp-协议僵化"><a class="header-anchor" href="#_3-1-3、tcp-协议僵化" aria-hidden="true">#</a> 3.1.3、TCP 协议僵化</h4><p>中间设备的老旧，操作系统的版本更新滞后</p><h3 id="_3-2、http-3-新特性"><a class="header-anchor" href="#_3-2、http-3-新特性" aria-hidden="true">#</a> 3.2、HTTP/3 新特性</h3><p>HTTP/3 选择了一个折衷的方法——UDP 协议，基于 UDP 实现了类似于 TCP 的多路数据流、传输可靠性等功能，称为 <strong>QUIC 协议</strong></p><p><img src="/portal-blog/images/browser/http3-quic.png" alt="http-cache"></p><p>QUIC 协议集合了以下几点功能</p><ul><li><p>实现了类似 TCP 的流量控制、传输可靠性的功能</p></li><li><p>集成了 TLS 加密功能</p></li><li><p>实现了 HTTP/2 中的多路复用功能</p></li></ul></div></div><footer class="page-footer" data-v-7eddb2c4 data-v-fb8d84c6><div class="edit" data-v-fb8d84c6><div class="edit-link" data-v-fb8d84c6 data-v-1ed99556><!----></div></div><div class="updated" data-v-fb8d84c6><!----></div></footer><div class="next-and-prev-link" data-v-7eddb2c4 data-v-38ede35f><div class="container" data-v-38ede35f><div class="prev" data-v-38ede35f><a class="link" href="/portal-blog/frontend-graph/浏览器/5、全面总结web性能优化" data-v-38ede35f><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-38ede35f><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-38ede35f>5、全面总结web性能优化</span></a></div><div class="next" data-v-38ede35f><a class="link" href="/portal-blog/frontend-graph/浏览器/7、浏览器安全" data-v-38ede35f><span class="text" data-v-38ede35f>7、浏览器安全</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-38ede35f><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"index.md\":\"82398b33\",\"frontend-graph_readme.md\":\"e5e5a579\",\"project-develop_readme.md\":\"bf338bc4\",\"project-develop_index.md\":\"4d9c4803\",\"source-analysis_readme.md\":\"77aae350\",\"frontend-graph_css_1、页面布局原理.md\":\"17f0498b\",\"frontend-graph_css_2、常见的页面布局及技巧.md\":\"b6e0accc\",\"frontend-graph_css_3、一文汇总元素居中的9种办法.md\":\"fd6a87c4\",\"frontend-graph_css_4、css中的动画.md\":\"1ca47626\",\"frontend-graph_css_5、面试题汇总.md\":\"b1000ab6\",\"frontend-graph_css_6、css资源汇总.md\":\"854589b6\",\"frontend-graph_html_2、移动端h5\\\"踩坑\\\"总结.md\":\"6e4653b5\",\"frontend-graph_html_3、浏览器解析html流程.md\":\"c76bd063\",\"frontend-graph_javascript_1、js中的基础知识.md\":\"895b7b3a\",\"frontend-graph_javascript_2、面向对象和原型.md\":\"f9816dde\",\"frontend-graph_javascript_3、js中的this和闭包.md\":\"65730d41\",\"frontend-graph_javascript_4、js代码执行机制.md\":\"f0f1e26a\",\"frontend-graph_javascript_5、js中的异步.md\":\"df7c972b\",\"frontend-graph_javascript_6、手写promise汇总.md\":\"6f27ecdc\",\"frontend-graph_javascript_7、30个api手写实现.md\":\"99131e2c\",\"frontend-graph_javascript_8、高频面试题汇总.md\":\"5e043a57\",\"frontend-graph_vue_1、vue面试题汇总.md\":\"55c0c3a9\",\"frontend-graph_工程化_1、模块化机制.md\":\"d9c10b52\",\"frontend-graph_工程化_2、webpack 工作流程.md\":\"235f5283\",\"frontend-graph_工程化_3、webpack loader机制.md\":\"38ba2094\",\"frontend-graph_工程化_4、webpack plugin机制.md\":\"b21f4c8b\",\"frontend-graph_工程化_5、webpack 优化策略.md\":\"3a404770\",\"frontend-graph_浏览器_1、浏览器缓存.md\":\"8eb19977\",\"frontend-graph_浏览器_2、浏览器架构.md\":\"ca12026c\",\"frontend-graph_浏览器_3、浏览器的工作原理.md\":\"86691696\",\"frontend-graph_浏览器_4、一文汇总9种跨域方法.md\":\"27961edb\",\"frontend-graph_浏览器_5、全面总结web性能优化.md\":\"88f7b9d2\",\"frontend-graph_浏览器_6、浏览器中的网络.md\":\"b8cd6fd1\",\"frontend-graph_浏览器_7、浏览器安全.md\":\"6cc52d80\",\"project-develop_vue_vue3 + vite 搭建ui组件库.md\":\"cd72c484\",\"source-analysis_visualization_1、线性代数的本质-学习笔记.md\":\"f105d529\",\"source-analysis_vue2.x源码_1、第一篇｜变化侦测.md\":\"01993c4a\",\"source-analysis_webpack_1、如何调试webpack源码.md\":\"c0227f86\",\"source-analysis_前端运维_1、linux 命令汇总.md\":\"80024aa7\",\"source-analysis_前端运维_2、vim命令汇总.md\":\"b51134a8\",\"source-analysis_前端运维_3、文件权限.md\":\"5aec46ff\",\"source-analysis_前端运维_4、nginx学习.md\":\"b5f28646\"}")</script>
    <script type="module" async src="/portal-blog/assets/app.5c37ca96.js"></script>
  </body>
</html>