import{_ as n,c as s,o as a,a as p}from"./app.bfda52b1.js";const m='{"title":"Vue3 + Vite \u642D\u5EFA UI \u7EC4\u4EF6\u5E93","description":"","frontmatter":{},"headers":[{"level":2,"title":"\u4E00\u3001\u7EC4\u4EF6\u5E93\u521D\u59CB\u5316","slug":"\u4E00\u3001\u7EC4\u4EF6\u5E93\u521D\u59CB\u5316"},{"level":3,"title":"1.1\u3001monorepo \u9879\u76EE\u521D\u59CB\u5316","slug":"_1-1\u3001monorepo-\u9879\u76EE\u521D\u59CB\u5316"},{"level":2,"title":"\u4E8C\u3001\u7EC4\u4EF6\u521D\u59CB\u5316","slug":"\u4E8C\u3001\u7EC4\u4EF6\u521D\u59CB\u5316"},{"level":3,"title":"2.1\u3001lerna \u521D\u59CB\u5316\u7EC4\u4EF6","slug":"_2-1\u3001lerna-\u521D\u59CB\u5316\u7EC4\u4EF6"},{"level":3,"title":"2.2\u3001\u5F15\u5165 vue3\u3001typescript","slug":"_2-2\u3001\u5F15\u5165-vue3\u3001typescript"},{"level":3,"title":"2.3\u3001\u8BBE\u7F6E\u7EC4\u4EF6\u51FA\u5165\u53E3","slug":"_2-3\u3001\u8BBE\u7F6E\u7EC4\u4EF6\u51FA\u5165\u53E3"},{"level":3,"title":"2.4\u3001\u6574\u5408\u6240\u6709\u7EC4\u4EF6","slug":"_2-4\u3001\u6574\u5408\u6240\u6709\u7EC4\u4EF6"},{"level":2,"title":"\u4E09\u3001\u642D\u5EFA\u5C55\u793A\u6587\u6863","slug":"\u4E09\u3001\u642D\u5EFA\u5C55\u793A\u6587\u6863"},{"level":2,"title":"\u56DB\u3001\u7EC4\u4EF6\u5E93\u6253\u5305","slug":"\u56DB\u3001\u7EC4\u4EF6\u5E93\u6253\u5305"},{"level":3,"title":"4.1\u3001\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93","slug":"_4-1\u3001\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93"},{"level":3,"title":"4.2\u3001\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7EC4\u4EF6","slug":"_4-2\u3001\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7EC4\u4EF6"},{"level":2,"title":"\u4E94\u3001\u7EC4\u4EF6\u5E93\u6837\u5F0F\u5904\u7406","slug":"\u4E94\u3001\u7EC4\u4EF6\u5E93\u6837\u5F0F\u5904\u7406"},{"level":3,"title":"5.1\u3001\u6837\u5F0F\u5E93\u521D\u59CB\u5316","slug":"_5-1\u3001\u6837\u5F0F\u5E93\u521D\u59CB\u5316"},{"level":3,"title":"5.2\u3001\u6837\u5F0F\u5E93\u6253\u5305\u5904\u7406","slug":"_5-2\u3001\u6837\u5F0F\u5E93\u6253\u5305\u5904\u7406"},{"level":2,"title":"\u516D\u3001\u7F16\u5199 Button \u7EC4\u4EF6","slug":"\u516D\u3001\u7F16\u5199-button-\u7EC4\u4EF6"}],"relativePath":"project-develop/Vue/1\u3001Vue3\u548CVite\u642D\u5EFAUI\u7EC4\u4EF6\u5E93.md"}',t={},o=p(`<h1 id="vue3-vite-\u642D\u5EFA-ui-\u7EC4\u4EF6\u5E93" tabindex="-1">Vue3 + Vite \u642D\u5EFA UI \u7EC4\u4EF6\u5E93 <a class="header-anchor" href="#vue3-vite-\u642D\u5EFA-ui-\u7EC4\u4EF6\u5E93" aria-hidden="true">#</a></h1><p>Vue3.0 \u548C Vite \u53D1\u5E03\u90FD\u5DF2\u7ECF\u6709\u5F88\u957F\u7684\u4E00\u6BB5\u65F6\u95F4\u4E86\uFF0C\u4E3A\u4E86\u540E\u7EED\u5728\u5DE5\u4F5C\u4E2D\u80FD\u66F4\u5FEB\u7684\u4ECE Vue 2.x \u5207\u6362\u5230 Vue 3, \u6709\u5FC5\u8981\u63D0\u524D\u5B66\u4E60\u638C\u63E1\uFF0C\u6240\u4EE5\u5C06\u4F7F\u7528 Vue3 + Vite \u4ECE 0 \u642D\u5EFA\u4E00\u4E2A\u7B80\u5355\u7684 UI \u7EC4\u4EF6\u5E93\u3002\u5B66\u4E60\u5B8C\u4F60\u5C06\u4E86\u89E3\u4EE5\u4E0B\u5185\u5BB9</p><ul><li>\u7EC4\u4EF6\u5E93\u5F00\u53D1\u73AF\u5883\u642D\u5EFA\u5DE5\u4F5C</li><li>vite \u5982\u4F55\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93\u53CA\u5355\u4E2A\u7EC4\u4EF6</li><li>\u5982\u4F55\u642D\u5EFA\u4E00\u4E2A\u7EC4\u4EF6\u5E93\u6587\u6863</li><li>vue3.0 \u5982\u4F55\u5F00\u53D1\u4E00\u4E2A\u5F3A\u5927\u7684\u7EC4\u4EF6</li></ul><h2 id="\u4E00\u3001\u7EC4\u4EF6\u5E93\u521D\u59CB\u5316" tabindex="-1">\u4E00\u3001\u7EC4\u4EF6\u5E93\u521D\u59CB\u5316 <a class="header-anchor" href="#\u4E00\u3001\u7EC4\u4EF6\u5E93\u521D\u59CB\u5316" aria-hidden="true">#</a></h2><p>\u7EC4\u4EF6\u5E93\u91C7\u7528 <code>monorepo</code> \u7B56\u7565\uFF0C\u5C06\u4F7F\u7528 <code>Lerna</code> \u6765\u7BA1\u7406\u8BE5\u9879\u76EE\u3002\u9996\u5148\u4F7F\u7528 lerna \u8FDB\u884C\u9879\u76EE\u521D\u59CB\u5316</p><p>(PS: \u5173\u4E8E\u4EC0\u4E48\u662F <code>monorepo</code> \u7B56\u7565\uFF0C\u8BF7\u53C2\u8003: <a href="https://segmentfault.com/a/1190000039157365" target="_blank" rel="noopener noreferrer"> All in one\uFF1A\u9879\u76EE\u7EA7 monorepo \u7B56\u7565\u6700\u4F73\u5B9E\u8DF5</a>)</p><h3 id="_1-1\u3001monorepo-\u9879\u76EE\u521D\u59CB\u5316" tabindex="-1">1.1\u3001monorepo \u9879\u76EE\u521D\u59CB\u5316 <a class="header-anchor" href="#_1-1\u3001monorepo-\u9879\u76EE\u521D\u59CB\u5316" aria-hidden="true">#</a></h3><div class="language-shell"><pre><code><span class="token function">yarn</span> global <span class="token function">add</span> lerna
<span class="token function">mkdir</span> gt-ui
<span class="token builtin class-name">cd</span> gt-ui
lerna init
</code></pre></div><p>\u521D\u59CB\u5316\u540E\uFF0C\u4F1A\u5728\u6839\u76EE\u5F55\u751F\u6210 <code>lerna.json</code> \u914D\u7F6E\u6587\u4EF6\uFF0C\u540C\u65F6\u4E3A\u4E86\u7EC4\u4EF6\u53EF\u4EE5\u76F8\u4E92\u5F15\u7528\uFF0C\u4EE5\u53CA\u907F\u514D\u91CD\u590D\u5B89\u88C5\u5305\uFF0C\u51CF\u5C11\u4F53\u79EF\u7B49\uFF0C\u8FD8\u6DFB\u52A0\u5176\u5B83\u914D\u7F6E</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;packages&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;packages/*&quot;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token property">&quot;version&quot;</span><span class="token operator">:</span> <span class="token string">&quot;0.0.0&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;npmClient&quot;</span><span class="token operator">:</span> <span class="token string">&quot;yarn&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u4F7F\u7528yarn\u7BA1\u7406</span>
  <span class="token property">&quot;useWorkspaces&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// \u4F7F\u7528workspace,\u9700\u8981\u914D\u7F6E package.json</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5728 <code>package.json</code> \u6587\u4EF6\u4E2D\uFF0C\u4E5F\u9700\u8981\u8BBE\u7F6E <code>workspaces</code> \u5C5E\u6027</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;name&quot;</span><span class="token operator">:</span> <span class="token string">&quot;gt-ui&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;private&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
  <span class="token property">&quot;devDependencies&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;lerna&quot;</span><span class="token operator">:</span> <span class="token string">&quot;^4.0.0&quot;</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token property">&quot;workspaces&quot;</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&quot;packages/*&quot;</span><span class="token punctuation">]</span>
<span class="token punctuation">}</span>
</code></pre></div><h2 id="\u4E8C\u3001\u7EC4\u4EF6\u521D\u59CB\u5316" tabindex="-1">\u4E8C\u3001\u7EC4\u4EF6\u521D\u59CB\u5316 <a class="header-anchor" href="#\u4E8C\u3001\u7EC4\u4EF6\u521D\u59CB\u5316" aria-hidden="true">#</a></h2><h3 id="_2-1\u3001lerna-\u521D\u59CB\u5316\u7EC4\u4EF6" tabindex="-1">2.1\u3001lerna \u521D\u59CB\u5316\u7EC4\u4EF6 <a class="header-anchor" href="#_2-1\u3001lerna-\u521D\u59CB\u5316\u7EC4\u4EF6" aria-hidden="true">#</a></h3><p>\u63A5\u7740\uFF0C\u4F1A\u5BF9\u5355\u4E2A\u7EC4\u4EF6\u8FDB\u884C\u521D\u59CB\u5316\uFF0C\u6BCF\u4E2A\u7EC4\u4EF6\u76F8\u5F53\u4E8E\u662F\u4E00\u4E2A\u5B50\u9879\u76EE\uFF0C\u5B50\u9879\u76EE\u547D\u540D\u7EDF\u4E00\u4EE5 <code>@&lt;repo_name&gt;/</code> \u5F00\u5934\uFF0C\u8FD9\u662F\u4E00\u79CD\u793E\u533A\u6700\u4F73\u5B9E\u8DF5\u3002<code>Lerna</code> \u63D0\u4F9B\u4E86 <code>lerna create</code> \u547D\u4EE4\u6765\u521D\u59CB\u5316\u5B50\u9879\u76EE</p><div class="language-shell"><pre><code>$: lerna create button
lerna notice cli v4.0.0
lerna WARN ENOREMOTE No <span class="token function">git</span> remote found, skipping repository property
package name: <span class="token punctuation">(</span>button<span class="token punctuation">)</span> @gt-ui/button
version: <span class="token punctuation">(</span><span class="token number">0.0</span>.0<span class="token punctuation">)</span>
description:
keywords:
homepage:
license: <span class="token punctuation">(</span>ISC<span class="token punctuation">)</span>
entry point: <span class="token punctuation">(</span>lib/button.js<span class="token punctuation">)</span>
<span class="token function">git</span> repository:
About to <span class="token function">write</span> to /Users/yangjay/learn/playground/packages/button/package.json:

<span class="token punctuation">{</span>
  <span class="token string">&quot;name&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;@gt-ui/button&quot;</span>,
  <span class="token string">&quot;version&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;0.0.0&quot;</span>,
  <span class="token string">&quot;description&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&gt; TODO: description&quot;</span>,
  <span class="token string">&quot;author&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;yangjay &lt;yj960203only@gmail.com&gt;&quot;</span>,
  <span class="token string">&quot;homepage&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;&quot;</span>,
  <span class="token string">&quot;license&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;ISC&quot;</span>,
  <span class="token string">&quot;main&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;lib/button.js&quot;</span>,
  <span class="token string">&quot;directories&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;lib&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;lib&quot;</span>,
    <span class="token string">&quot;test&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;__tests__&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;files&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">[</span>
    <span class="token string">&quot;lib&quot;</span>
  <span class="token punctuation">]</span>,
  <span class="token string">&quot;publishConfig&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;registry&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;https://registry.npm.taobao.org/&quot;</span>
  <span class="token punctuation">}</span>,
  <span class="token string">&quot;scripts&quot;</span><span class="token builtin class-name">:</span> <span class="token punctuation">{</span>
    <span class="token string">&quot;test&quot;</span><span class="token builtin class-name">:</span> <span class="token string">&quot;echo <span class="token entity" title="\\&quot;">\\&quot;</span>Error: run tests from root<span class="token entity" title="\\&quot;">\\&quot;</span> &amp;&amp; exit 1&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>


Is this OK? <span class="token punctuation">(</span>yes<span class="token punctuation">)</span>
lerna success create New package @gt-ui/button created at ./packages/button
</code></pre></div><p>\u6B64\u65F6\uFF0C\u6574\u4E2A\u9879\u76EE\u76EE\u5F55\u7ED3\u679C\u5982\u4E0B</p><h3 id="_2-2\u3001\u5F15\u5165-vue3\u3001typescript" tabindex="-1">2.2\u3001\u5F15\u5165 vue3\u3001typescript <a class="header-anchor" href="#_2-2\u3001\u5F15\u5165-vue3\u3001typescript" aria-hidden="true">#</a></h3><div class="language-shell"><pre><code><span class="token function">yarn</span> <span class="token function">add</span> vue@next typescript -W
npx tsc --init
</code></pre></div><p>\u6B64\u65F6\uFF0C\u4F1A\u5728\u6839\u76EE\u5F55\u751F\u6210 <code>tsconfig.json</code> \u914D\u7F6E\u6587\u4EF6, \u6211\u4EEC\u8FDB\u884C\u5982\u4E0B\u5982\u4E0B\u8BBE\u7F6E</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;compilerOptions&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;target&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6253\u5305\u7684\u76EE\u6807\u8BED\u6CD5</span>
    <span class="token property">&quot;module&quot;</span><span class="token operator">:</span> <span class="token string">&quot;ESNext&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6A21\u5757\u8F6C\u5316\u540E\u7684\u683C\u5F0F</span>
    <span class="token property">&quot;esModuleInterop&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u652F\u6301\u6A21\u5757\u8F6C\u5316</span>
    <span class="token property">&quot;skipLibCheck&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u8DF3\u8FC7\u7C7B\u5E93\u68C0\u6D4B</span>
    <span class="token property">&quot;forceConsistentCasingInFileNames&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u5F3A\u5236\u533A\u5206\u5927\u5C0F\u5199</span>
    <span class="token property">&quot;moduleResolution&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u6A21\u5757\u89E3\u6790\u65B9\u5F0F</span>
    <span class="token property">&quot;jsx&quot;</span><span class="token operator">:</span> <span class="token string">&quot;preserve&quot;</span><span class="token punctuation">,</span> <span class="token comment">// \u4E0D\u8F6C\u5316jsx</span>
    <span class="token property">&quot;declaration&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span> <span class="token comment">// \u751F\u6210\u58F0\u660E\u6587\u4EF6</span>
    <span class="token property">&quot;sourceMap&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span> <span class="token comment">// \u751F\u6210\u6620\u5C04\u6587\u4EF6</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-3\u3001\u8BBE\u7F6E\u7EC4\u4EF6\u51FA\u5165\u53E3" tabindex="-1">2.3\u3001\u8BBE\u7F6E\u7EC4\u4EF6\u51FA\u5165\u53E3 <a class="header-anchor" href="#_2-3\u3001\u8BBE\u7F6E\u7EC4\u4EF6\u51FA\u5165\u53E3" aria-hidden="true">#</a></h3><p>\u8BBE\u7F6E <code>Button</code> \u7EC4\u4EF6\u51FA\u5165\u53E3\uFF0C\u4EE5\u53CA\u5BF9\u5E94\u7684 <code>install</code> \u65B9\u6CD5</p><p><code>packages/button/src/index.vue</code> \u6587\u4EF6</p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>button</span><span class="token punctuation">&gt;</span></span>\u6309\u94AE<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">lang</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>ts<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> defineComponent <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineComponent</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;MnButton&#39;</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>packages/button/index.ts</code> \u6587\u4EF6</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">&#39;./src/index.vue&#39;</span>

Button<span class="token punctuation">.</span>install <span class="token operator">=</span> <span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>Button<span class="token punctuation">.</span>name<span class="token punctuation">,</span> Button<span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> Button
</code></pre></div><p>\u6B64\u65F6\uFF0C\u9879\u76EE\u4F1A\u62A5\u9519\uFF0C\u662F\u56E0\u4E3A\u9ED8\u8BA4\u65E0\u6CD5\u89E3\u6790<code>.vue</code>\u6587\u4EF6\u540E\u7F00\u7684\u6587\u4EF6\uFF0C\u9700\u8981\u589E\u52A0<code>typings</code></p><p>\u6839\u76EE\u5F55\u521B\u5EFA <code>typings/vue-shim.d.ts</code> \u6587\u4EF6</p><div class="language-js"><pre><code>declare module <span class="token string">&#39;*.vue&#39;</span> <span class="token punctuation">{</span>
  <span class="token keyword">import</span> <span class="token punctuation">{</span>App<span class="token punctuation">,</span>defineComponent<span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> <span class="token literal-property property">component</span><span class="token operator">:</span> ReturnType<span class="token operator">&lt;</span><span class="token keyword">typeof</span> defineComponent<span class="token operator">&gt;</span> <span class="token operator">&amp;</span> <span class="token punctuation">{</span>
      <span class="token function">install</span><span class="token punctuation">(</span>app<span class="token operator">:</span>App<span class="token punctuation">)</span><span class="token operator">:</span><span class="token keyword">void</span>
  <span class="token punctuation">}</span><span class="token punctuation">;</span><span class="token punctuation">;</span>
  <span class="token keyword">export</span> <span class="token keyword">default</span> component
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_2-4\u3001\u6574\u5408\u6240\u6709\u7EC4\u4EF6" tabindex="-1">2.4\u3001\u6574\u5408\u6240\u6709\u7EC4\u4EF6 <a class="header-anchor" href="#_2-4\u3001\u6574\u5408\u6240\u6709\u7EC4\u4EF6" aria-hidden="true">#</a></h3><p>\u5F53\u521D\u59CB\u5316 Button \u7EC4\u4EF6\u540E\uFF0C\u5728\u9879\u76EE\u6839\u76EE\u5F55\u6267\u884C <code>yarn install</code>, \u6B64\u65F6\uFF0C\u5728 <code>node_modules </code> \u76EE\u5F55\u4E0B\u4F1A\u5305\u542B\u4E86\u6211\u4EEC\u7684\u5B50\u9879\u76EE</p><div class="language-"><pre><code>.
\u251C\u2500\u2500 package.json
\u2514\u2500\u2500 node_modules/
    \u251C\u2500\u2500 @gt-ui/button/
    \u2502   \u251C\u2500\u2500 index.js
    \u2502   \u2514\u2500\u2500 package.json
    \u251C\u2500\u2500 \u2514\u2500\u2500 src/
    \u2502       \u2514\u2500\u2500 index.vue

</code></pre></div><p>\u56E0\u6B64\uFF0C\u53EF\u4EE5\u901A\u8FC7\u5404\u81EA\u6A21\u5757\u5F15\u5165\u673A\u5236\u5F15\u5165\u5176\u5B83\u7684\u5B50\u9879\u76EE\u4EE3\u7801\u3002</p><p>\u4F7F\u7528 <code>lerna create gt-ui</code> \u521B\u5EFA\u4E00\u4E2A\u5B50\u9879\u76EE\u4F5C\u4E3A\u7EC4\u4EF6\u5E93\u7684\u603B\u5165\u53E3\uFF0C\u6C47\u603B\u6240\u6709\u7EC4\u4EF6\u3002</p><p><code>package/gt-ui/index.ts</code> \u6587\u4EF6</p><div class="language-js"><pre><code><span class="token keyword">import</span> Button <span class="token keyword">from</span> <span class="token string">&#39;@gt-ui/button&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> App <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">const</span> components <span class="token operator">=</span> <span class="token punctuation">[</span>Button<span class="token punctuation">]</span>
<span class="token keyword">const</span> install <span class="token operator">=</span> <span class="token punctuation">(</span>app<span class="token operator">:</span> App<span class="token punctuation">)</span><span class="token operator">:</span> <span class="token parameter"><span class="token keyword">void</span></span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  components<span class="token punctuation">.</span><span class="token function">forEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">component</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>component<span class="token punctuation">.</span>install<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>component<span class="token punctuation">)</span>
    <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token keyword">if</span> <span class="token punctuation">(</span>component<span class="token punctuation">.</span>name<span class="token punctuation">)</span> <span class="token punctuation">{</span>
      app<span class="token punctuation">.</span><span class="token function">component</span><span class="token punctuation">(</span>component<span class="token punctuation">.</span>name<span class="token punctuation">,</span> component<span class="token punctuation">)</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  install<span class="token punctuation">,</span>
<span class="token punctuation">}</span>
</code></pre></div><p>(ps: \u540E\u7EED <code>index.ts</code>\u6587\u4EF6\u9700\u901A\u8FC7\u811A\u672C\u81EA\u52A8\u751F\u6210,\u907F\u514D\u624B\u52A8\u5F15\u5165 )</p><h2 id="\u4E09\u3001\u642D\u5EFA\u5C55\u793A\u6587\u6863" tabindex="-1">\u4E09\u3001\u642D\u5EFA\u5C55\u793A\u6587\u6863 <a class="header-anchor" href="#\u4E09\u3001\u642D\u5EFA\u5C55\u793A\u6587\u6863" aria-hidden="true">#</a></h2><p>\u7528\u6237\u5BF9\u7EC4\u4EF6\u5E93\u7684\u7B2C\u4E00\u5370\u8C61\u5C31\u662F\u770B\u7EC4\u4EF6\u6587\u6863\u662F\u5426\u597D\u770B\uFF0C\u9F50\u5168\u7B49\uFF0C\u53EF\u9009\u62E9\u73B0\u6210\u7684 <code>VitePress</code> \u8FDB\u884C\u642D\u5EFA\uFF0C\u4E5F\u53EF\u81EA\u5DF1\u52A8\u624B\u4ECE 0 \u642D\u5EFA\u3002</p><p>\u6839\u76EE\u5F55\u8FD0\u884C <code>yarn create @vitejs/app website --template vue</code> \u547D\u4EE4\u521D\u59CB\u5316\u6587\u6863\u9879\u76EE\uFF0C\u9879\u76EE\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B</p><div class="language-"><pre><code>.
\u251C\u2500\u2500 package.json
\u2514\u2500\u2500 website/
    \u251C\u2500\u2500 package.json
    \u251C\u2500\u2500 index.html
    \u251C\u2500\u2500 vite.config.js
    \u251C\u2500\u2500 src/
    \u2502   \u251C\u2500\u2500 main.js
    \u2502   \u2514\u2500\u2500 App.vue
</code></pre></div><p><code>index.html</code> \u4F5C\u4E3A\u6587\u6863\u9879\u76EE\u5165\u53E3\uFF0C\u63A5\u4E0B\u6765\u4F1A\u6D4B\u8BD5 <code>mono-ui</code> \u7EC4\u4EF6\u5E93\u662F\u5426\u80FD\u6B63\u5E38\u6E32\u67D3</p><p><code>website/src/main.js</code> \u6587\u4EF6</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vue&#39;</span>
<span class="token keyword">import</span> GtUI <span class="token keyword">from</span> <span class="token string">&#39;gt-ui&#39;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&#39;./App.vue&#39;</span>

<span class="token function">createApp</span><span class="token punctuation">(</span>App<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>GtUI<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&#39;#app&#39;</span><span class="token punctuation">)</span>
</code></pre></div><p><code>website/src/App.vue</code> \u6587\u4EF6</p><div class="language-vue"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>gt-button</span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>gt-button</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span> <span class="token attr-name">setup</span><span class="token punctuation">&gt;</span></span><span class="token script"></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>\u6839\u76EE\u5F55 <code>package.json</code> \u6587\u4EF6\u4E2D\u589E\u52A0 <code>script</code> \u811A\u672C</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;docs:dev&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build --config ./website/vite.config.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u8FD0\u884C <code>yarn docs:dev</code> \u5C31\u770B\u770B\u5230 <code>gt-button</code> \u7EC4\u4EF6\u6B63\u5E38\u6E32\u67D3\u4E86\u3002</p><h2 id="\u56DB\u3001\u7EC4\u4EF6\u5E93\u6253\u5305" tabindex="-1">\u56DB\u3001\u7EC4\u4EF6\u5E93\u6253\u5305 <a class="header-anchor" href="#\u56DB\u3001\u7EC4\u4EF6\u5E93\u6253\u5305" aria-hidden="true">#</a></h2><p>\u6211\u4EEC\u5C06\u4F7F\u7528 vite \u6765\u6253\u5305\u7EC4\u4EF6\u5E93\uFF0C\u9700\u8981\u5148\u5B89\u88C5\u4E00\u4E9B\u4F9D\u8D56</p><div class="language-shell"><pre><code><span class="token function">yarn</span> <span class="token function">add</span> @vitejs/plugin-vue rollup-plugin-typescript2 -D -W
</code></pre></div><h3 id="_4-1\u3001\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93" tabindex="-1">4.1\u3001\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93 <a class="header-anchor" href="#_4-1\u3001\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93" aria-hidden="true">#</a></h3><p>\u65B0\u5EFA <code>build/vite.config.build.js</code> \u6587\u4EF6</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-typescript2&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tsconfigOverride</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">include</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;packages/**/*&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;typings/vue-shim.d.ts&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
          <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;packages/**/__tests__/*&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;website&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4\u4F1A\u8C03\u7528 tsconfig.json, \u5E2E\u52A9\u6211\u4EEC\u751F\u6210\u58F0\u660E\u6587\u4EF6</span>
      <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span> <span class="token comment">// \u4EC5\u4F5C\u7528\u4E0E build \u9636\u6BB5</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">rollupOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token comment">// \u8BF7\u786E\u4FDD\u5916\u90E8\u5316\u90A3\u4E9B\u4F60\u7684\u5E93\u4E2D\u4E0D\u9700\u8981\u7684\u4F9D\u8D56</span>
      <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span> <span class="token punctuation">{</span>
        <span class="token comment">// \u5728 UMD \u6784\u5EFA\u6A21\u5F0F\u4E0B\u4E3A\u8FD9\u4E9B\u5916\u90E8\u5316\u7684\u4F9D\u8D56\u63D0\u4F9B\u4E00\u4E2A\u5168\u5C40\u53D8\u91CF</span>
        <span class="token literal-property property">globals</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">vue</span><span class="token operator">:</span> <span class="token string">&#39;Vue&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lib</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../packages/index.ts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;gt-ui&#39;</span><span class="token punctuation">,</span>
      <span class="token literal-property property">formats</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span> <span class="token string">&#39;umd&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>\u6839\u76EE\u5F55 <code>package.json</code> \u6587\u4EF6\u4E2D\u589E\u52A0 <code>script</code> \u811A\u672C</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build -c ./build/vite.config.build.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u8FD0\u884C\u547D\u4EE4 <code>yarn build</code> \u9ED8\u8BA4\u4F1A\u5728 <code>dist</code> \u76EE\u5F55\u4E0B\u8F93\u51FA\u6253\u5305\u6587\u4EF6\uFF0C\u6839\u636E\u914D\u7F6E\uFF0C\u4E5F\u5C31\u662F <code>gt-ui.es.js</code> \u548C <code>gt-ui.umd.js</code> \u4E24\u4E2A\u6587\u4EF6\uFF0C\u540C\u65F6\uFF0C\u8FD8\u4F1A\u8C03\u7528 <code>tsconfig.json</code>, \u5E2E\u52A9\u6211\u4EEC\u751F\u6210\u58F0\u660E\u6587\u4EF6</p><div class="language-"><pre><code>dist
\u251C\u2500\u2500 button
\u2502\xA0\xA0 \u251C\u2500\u2500 index.d.ts
\u2502\xA0\xA0 \u2514\u2500\u2500 src
\u2502\xA0\xA0     \u2514\u2500\u2500 index.vue.d.ts
\u251C\u2500\u2500 gt-ui
\u2502\xA0\xA0 \u2514\u2500\u2500 index.d.ts
\u251C\u2500\u2500 gt-ui.es.js
\u2514\u2500\u2500 gt-ui.umd.js
</code></pre></div><p>\u53EF\u5728 <code>website/src/main.js</code> \u6587\u4EF6\u4E2D\uFF0C\u4EE5\u76F8\u5BF9\u8DEF\u5F84\u7684\u65B9\u5F0F\uFF0C\u5BFC\u5165\u7EC4\u4EF6\u5E93\uFF0C\u6D4B\u8BD5\u7EC4\u4EF6\u80FD\u5426\u6B63\u5E38\u4F7F\u7528</p><h3 id="_4-2\u3001\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7EC4\u4EF6" tabindex="-1">4.2\u3001\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7EC4\u4EF6 <a class="header-anchor" href="#_4-2\u3001\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7EC4\u4EF6" aria-hidden="true">#</a></h3><p>\u6BCF\u4E2A\u7EC4\u4EF6\u90FD\u662F\u4E00\u4E2A\u5B50\u9879\u76EE\uFF0C\u5B50\u9879\u540D\u79F0\u7EA6\u5B9A\u4E3A <code>@mono-ui/xxx</code>, \u6240\u4EE5\u9996\u5148\u9700\u8981\u7B5B\u9009\u4E2D\u6240\u4EE5\u7684\u7EC4\u4EF6\uFF0C\u5E76\u4E14\u6B64\u6253\u5305\u4EFB\u52A1\u5B58\u5728\u591A\u4E2A <code>entry</code></p><p>\u65B0\u5EFA <code>build/vite.config.build.disperse.js</code> \u6587\u4EF6</p><div class="language-js"><pre><code><span class="token keyword">import</span> <span class="token punctuation">{</span> defineConfig <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;vite&#39;</span>
<span class="token keyword">import</span> vue <span class="token keyword">from</span> <span class="token string">&#39;@vitejs/plugin-vue&#39;</span>
<span class="token keyword">import</span> typescript <span class="token keyword">from</span> <span class="token string">&#39;rollup-plugin-typescript2&#39;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> getPackagesSync <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&#39;@lerna/project&#39;</span>
<span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>

<span class="token comment">// \u7B5B\u9009\u51FA\u6240\u6709\u7684\u7EC4\u4EF6</span>
<span class="token keyword">const</span> inputs <span class="token operator">=</span> <span class="token function">getPackagesSync</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">pkg</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> pkg<span class="token punctuation">.</span>name<span class="token punctuation">)</span>
  <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> name<span class="token punctuation">.</span><span class="token function">includes</span><span class="token punctuation">(</span><span class="token string">&#39;@gt-ui&#39;</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token function">defineConfig</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  <span class="token literal-property property">plugins</span><span class="token operator">:</span> <span class="token punctuation">[</span>
    <span class="token function">vue</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
      <span class="token literal-property property">target</span><span class="token operator">:</span> <span class="token string">&#39;browser&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">{</span>
      <span class="token operator">...</span><span class="token function">typescript</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
        <span class="token literal-property property">tsconfigOverride</span><span class="token operator">:</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">compilerOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
            <span class="token literal-property property">declaration</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span> <span class="token comment">// \u65E0\u9700\u518D\u6B21\u751F\u6210 ts\u58F0\u660E\u6587\u4EF6</span>
          <span class="token punctuation">}</span><span class="token punctuation">,</span>
          <span class="token literal-property property">exclude</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;node_modules&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span><span class="token punctuation">,</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span> <span class="token comment">// \u9ED8\u8BA4\u4F1A\u8C03\u7528 tsconfig.json, \u5E2E\u52A9\u6211\u4EEC\u751F\u6210\u58F0\u660E\u6587\u4EF6</span>
      <span class="token literal-property property">apply</span><span class="token operator">:</span> <span class="token string">&#39;build&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">]</span><span class="token punctuation">,</span>
  <span class="token literal-property property">build</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token literal-property property">emptyOutDir</span><span class="token operator">:</span> <span class="token boolean">false</span><span class="token punctuation">,</span>
    <span class="token literal-property property">rollupOptions</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">external</span><span class="token operator">:</span> <span class="token punctuation">[</span><span class="token string">&#39;vue&#39;</span><span class="token punctuation">]</span><span class="token punctuation">,</span>
      <span class="token literal-property property">input</span><span class="token operator">:</span> inputs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> pkgName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;@gt-ui/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">../packages/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pkgName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/index.ts</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">output</span><span class="token operator">:</span> inputs<span class="token punctuation">.</span><span class="token function">map</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">name</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
        <span class="token keyword">const</span> pkgName <span class="token operator">=</span> name<span class="token punctuation">.</span><span class="token function">split</span><span class="token punctuation">(</span><span class="token string">&#39;@gt-ui/&#39;</span><span class="token punctuation">)</span><span class="token punctuation">[</span><span class="token number">1</span><span class="token punctuation">]</span>
        <span class="token keyword">return</span> <span class="token punctuation">{</span>
          <span class="token literal-property property">dir</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token template-string"><span class="token template-punctuation string">\`</span><span class="token string">../dist/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">\${</span>pkgName<span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">/</span><span class="token template-punctuation string">\`</span></span><span class="token punctuation">)</span><span class="token punctuation">,</span>
          <span class="token literal-property property">entryFileNames</span><span class="token operator">:</span> <span class="token string">&#39;index.js&#39;</span><span class="token punctuation">,</span>
          <span class="token literal-property property">format</span><span class="token operator">:</span> <span class="token string">&#39;es&#39;</span><span class="token punctuation">,</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    <span class="token literal-property property">lib</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token literal-property property">entry</span><span class="token operator">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../packages/**/index.ts&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      <span class="token literal-property property">name</span><span class="token operator">:</span> <span class="token string">&#39;index&#39;</span><span class="token punctuation">,</span>
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>\u6839\u76EE\u5F55 package.json \u6587\u4EF6\u4E2D\u589E\u52A0 script \u811A\u672C</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build -c ./build/vite.config.build.js &amp;&amp; build:disperse&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build:disperse&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build -c ./build/vite.config.build.disperse.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u6B64\u65F6\u8FD0\u884C\u547D\u4EE4 <code>yarn build</code>, \u4F1A\u5148\u6253\u5305\u7EC4\u4EF6\u5E93\u6574\u4F53\uFF0C\u518D\u6253\u5305\u6BCF\u4E2A\u5355\u72EC\u7684\u7EC4\u4EF6\uFF0C<code>dist</code> \u76EE\u5F55\u7ED3\u679C\u5982\u4E0B</p><div class="language-"><pre><code>dist
\u251C\u2500\u2500 button
\u2502   \u251C\u2500\u2500 index.d.ts
\u2502   \u251C\u2500\u2500 index.js
\u2502   \u2514\u2500\u2500 src
\u2502       \u2514\u2500\u2500 button.vue.d.ts
\u251C\u2500\u2500 gt-ui
\u2502   \u2514\u2500\u2500 index.d.ts
\u251C\u2500\u2500 gt-ui.es.js
\u2514\u2500\u2500 gt-ui.umd.js
</code></pre></div><p>\u4E5F\u53EF\u5728 <code>website/src/main.js</code> \u6587\u4EF6\u4E2D\uFF0C\u4EE5\u76F8\u5BF9\u8DEF\u5F84\u7684\u65B9\u5F0F\uFF0C\u5BFC\u5165\u5355\u4E2A\u7EC4\u4EF6\uFF0C\u6D4B\u8BD5\u80FD\u5426\u6B63\u5E38\u6E32\u67D3</p><h2 id="\u4E94\u3001\u7EC4\u4EF6\u5E93\u6837\u5F0F\u5904\u7406" tabindex="-1">\u4E94\u3001\u7EC4\u4EF6\u5E93\u6837\u5F0F\u5904\u7406 <a class="header-anchor" href="#\u4E94\u3001\u7EC4\u4EF6\u5E93\u6837\u5F0F\u5904\u7406" aria-hidden="true">#</a></h2><h3 id="_5-1\u3001\u6837\u5F0F\u5E93\u521D\u59CB\u5316" tabindex="-1">5.1\u3001\u6837\u5F0F\u5E93\u521D\u59CB\u5316 <a class="header-anchor" href="#_5-1\u3001\u6837\u5F0F\u5E93\u521D\u59CB\u5316" aria-hidden="true">#</a></h3><p>\u5728 <code>monorepo</code> \u7B56\u7565\u4E0B\uFF0C\u7EC4\u4EF6\u5E93\u6837\u5F0F\u4E5F\u53EF\u4F5C\u4E3A\u5B50\u9879\u76EE\u5B58\u5728\uFF0C\u7EC4\u4EF6\u7684\u6837\u5F0F\u5C06\u4E0E\u903B\u8F91\u8FDB\u884C\u62C6\u5206\uFF0C \u901A\u8FC7 <code>lerna create theme</code> \u521B\u5EFA\u6837\u5F0F\u9879\u76EE, \u5C06\u4F7F\u7528 <code>sass</code> \u9884\u5904\u7406\u5668\u6765\u7F16\u5199\u6837\u5F0F\u3002</p><p>\u6574\u4E2A\u9879\u76EE\u76EE\u5F55\u7ED3\u6784\u5982\u4E0B</p><div class="language-"><pre><code>theme
\u251C\u2500\u2500 README.md
\u251C\u2500\u2500 package.json
\u2514\u2500\u2500 src
    \u251C\u2500\u2500 commons
    \u2502   \u251C\u2500\u2500 config.scss
    \u2502   \u2514\u2500\u2500 variables.scss
    \u251C\u2500\u2500 fonts
    \u2502   \u251C\u2500\u2500 iconfont.css
    \u2502   \u251C\u2500\u2500 iconfont.ttf
    \u2502   \u251C\u2500\u2500 iconfont.woff
    \u2502   \u2514\u2500\u2500 iconfont.woff2
    \u251C\u2500\u2500 index.scss
    \u251C\u2500\u2500 mixins
    \u2502   \u251C\u2500\u2500 bem-mixins.scss
    \u2502   \u2514\u2500\u2500 index.scss
    \u2514\u2500\u2500 packages
        \u251C\u2500\u2500 gt-button.scss
        \u2514\u2500\u2500 index.scss
</code></pre></div><p>\u91C7\u7528 <code>BEM</code> \u547D\u540D\u89C4\u8303\u6765\u5B9A\u4E49\u7EC4\u4EF6\u7684\u7C7B\u540D\uFF0C\u9996\u5148\u9700\u8981\u5B9A\u4E49\u597D\u4E00\u4E9B\u5206\u9694\u7B26</p><p><code>src/commons/config.scss</code> \u6587\u4EF6</p><div class="language-scss"><pre><code><span class="token property"><span class="token variable">$namespace</span></span><span class="token punctuation">:</span> <span class="token string">&#39;gt&#39;</span><span class="token punctuation">;</span> <span class="token comment">// scss \u53D8\u91CF\uFF0C\u547D\u540D\u7A7A\u95F4  gt-button</span>
<span class="token property"><span class="token variable">$element-separator</span></span><span class="token punctuation">:</span> <span class="token string">&#39;__&#39;</span><span class="token punctuation">;</span> <span class="token comment">//\u5143\u7D20\u5206\u9694\u7B26 gt-button__label</span>
<span class="token property"><span class="token variable">$modifier-separator</span></span><span class="token punctuation">:</span> <span class="token string">&#39;--&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u7C7B\u578B\u4FEE\u9970 gt-button--mini</span>
<span class="token property"><span class="token variable">$state-prefix</span></span><span class="token punctuation">:</span> <span class="token string">&#39;is-&#39;</span><span class="token punctuation">;</span> <span class="token comment">// \u72B6\u6001 is-plain</span>
</code></pre></div><p><code>src/mixins/bem-mixins.scss</code> \u6587\u4EF6</p><div class="language-scss"><pre><code><span class="token keyword">@import</span> <span class="token string">&#39;../commons/config.scss&#39;</span><span class="token punctuation">;</span>

<span class="token comment">// .gt-button{}</span>
<span class="token keyword">@mixin</span> <span class="token function">b</span><span class="token punctuation">(</span><span class="token variable">$block</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token property"><span class="token variable">$B</span></span><span class="token punctuation">:</span> <span class="token variable">$namespace</span> <span class="token operator">+</span> <span class="token string">&#39;-&#39;</span> <span class="token operator">+</span> <span class="token variable">$block</span><span class="token punctuation">;</span>
  <span class="token selector">.<span class="token variable">#{$B}</span> </span><span class="token punctuation">{</span>
    <span class="token keyword">@content</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// &amp;__label =&gt; .gt-button__label {}</span>
<span class="token keyword">@mixin</span> <span class="token function">e</span><span class="token punctuation">(</span><span class="token variable">$element</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@at-root</span></span> <span class="token punctuation">{</span>
    #<span class="token punctuation">{</span>&amp; <span class="token operator">+</span> <span class="token variable">$element-separator</span> <span class="token operator">+</span> <span class="token variable">$element</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
      <span class="token keyword">@content</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// &amp;--mini =&gt; .gt-button--mini {}</span>
<span class="token keyword">@mixin</span> <span class="token function">m</span><span class="token punctuation">(</span><span class="token variable">$modifier</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@at-root</span></span> <span class="token punctuation">{</span>
    #<span class="token punctuation">{</span>&amp; <span class="token operator">+</span> <span class="token variable">$modifier-separator</span> <span class="token operator">+</span> <span class="token variable">$modifier</span><span class="token punctuation">}</span> <span class="token punctuation">{</span>
      <span class="token keyword">@content</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>

<span class="token comment">// .gt-button.is-xxx</span>
<span class="token keyword">@mixin</span> <span class="token function">when</span><span class="token punctuation">(</span><span class="token variable">$state</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token atrule"><span class="token rule">@at-root</span></span> <span class="token punctuation">{</span>
    <span class="token property"><span class="token variable">$S</span></span><span class="token punctuation">:</span> <span class="token variable">$state-prefix</span> <span class="token operator">+</span> <span class="token variable">$state</span><span class="token punctuation">;</span>
    <span class="token selector"><span class="token parent important">&amp;</span>.<span class="token variable">#{$S}</span> </span><span class="token punctuation">{</span>
      <span class="token keyword">@content</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u5F53\u5B9A\u4E49\u597D\u8FD9\u4E9B mixin \u51FD\u6570\u540E\uFF0C\u7F16\u5199\u7EC4\u4EF6\u7684\u6837\u5F0F\u5C31\u53EF\u4EE5\u5C11\u5199\u5F88\u591A\u91CD\u590D\u4EE3\u7801</p><div class="language-scss"><pre><code><span class="token keyword">@import</span> <span class="token string">&#39;../mixins/index.scss&#39;</span><span class="token punctuation">;</span>

<span class="token keyword">@include</span> <span class="token function">b</span><span class="token punctuation">(</span>button<span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token property">display</span><span class="token punctuation">:</span> inline-block<span class="token punctuation">;</span>
  <span class="token property">padding</span><span class="token punctuation">:</span> 12px 20px<span class="token punctuation">;</span>
  <span class="token property">font-size</span><span class="token punctuation">:</span> 14px<span class="token punctuation">;</span>
  <span class="token keyword">@include</span> <span class="token function">m</span><span class="token punctuation">(</span>mini<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property">padding</span><span class="token punctuation">:</span> 7px 15px<span class="token punctuation">;</span>
    <span class="token property">font-size</span><span class="token punctuation">:</span> 12px<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
  <span class="token keyword">@include</span> <span class="token function">when</span><span class="token punctuation">(</span>disabled<span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token property">color</span><span class="token punctuation">:</span> #c0c4cc<span class="token punctuation">;</span>
    <span class="token property">cursor</span><span class="token punctuation">:</span> not-allowed<span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="_5-2\u3001\u6837\u5F0F\u5E93\u6253\u5305\u5904\u7406" tabindex="-1">5.2\u3001\u6837\u5F0F\u5E93\u6253\u5305\u5904\u7406 <a class="header-anchor" href="#_5-2\u3001\u6837\u5F0F\u5E93\u6253\u5305\u5904\u7406" aria-hidden="true">#</a></h3><p>\u6837\u5F0F\u5E93\u6253\u5305\u53EA\u9700\u8981\u5C06\u6837\u5F0F\u6587\u4EF6\u62F7\u8D1D\u5230\u8F93\u51FA\u76EE\u5F55\u5373\u53EF\uFF0C <code>build/generate-theme.js</code></p><div class="language-js"><pre><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;path&#39;</span><span class="token punctuation">)</span>
<span class="token keyword">const</span> fs <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">&#39;fs-extra&#39;</span><span class="token punctuation">)</span>

<span class="token keyword">const</span> tasks <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span>

tasks<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span>
  fs<span class="token punctuation">.</span><span class="token function">copy</span><span class="token punctuation">(</span>
    path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../packages/theme/src&#39;</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
    path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">&#39;../dist/theme&#39;</span><span class="token punctuation">)</span>
  <span class="token punctuation">)</span>
<span class="token punctuation">)</span>

Promise<span class="token punctuation">.</span><span class="token function">all</span><span class="token punctuation">(</span>tasks<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">then</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">res</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token comment">// logger.success(\`copy \u6210\u529F\`);</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>\u6839\u76EE\u5F55 package.json \u6587\u4EF6\u4E2D\u589E\u52A0 script \u811A\u672C</p><div class="language-json"><pre><code><span class="token punctuation">{</span>
  <span class="token property">&quot;scripts&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;build&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build -c ./build/vite.config.build.js &amp;&amp; build:disperse &amp;&amp; generate:theme&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;build:disperse&quot;</span><span class="token operator">:</span> <span class="token string">&quot;vite build -c ./build/vite.config.build.disperse.js&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;generate:theme&quot;</span><span class="token operator">:</span> <span class="token string">&quot;node ./build/generate-theme.js&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><p>\u6B64\u65F6\uFF0C\u8FD0\u884C <code>yarn build</code> \u5C31\u4F1A\u4E00\u6B21\u6027\u6253\u5305\u6574\u4E2A\u7EC4\u4EF6\u5E93\u3001\u6BCF\u4E2A\u5355\u72EC\u7684\u7EC4\u4EF6\u4EE5\u53CA\u6837\u5F0F\u5E93</p><h2 id="\u516D\u3001\u7F16\u5199-button-\u7EC4\u4EF6" tabindex="-1">\u516D\u3001\u7F16\u5199 Button \u7EC4\u4EF6 <a class="header-anchor" href="#\u516D\u3001\u7F16\u5199-button-\u7EC4\u4EF6" aria-hidden="true">#</a></h2>`,89),e=[o];function c(l,u,i,r,k,d){return a(),s("div",null,e)}var y=n(t,[["render",c]]);export{m as __pageData,y as default};
