import{o as n,c as s,a,b as t}from"./app.5c37ca96.js";const o='{"title":"ä¸€ã€å¯¹ Object çš„ç›‘æµ‹","description":"","frontmatter":{},"headers":[{"level":2,"title":"ä¸€ã€å¯¹ Object çš„ç›‘æµ‹","slug":"ä¸€ã€å¯¹-object-çš„ç›‘æµ‹"},{"level":3,"title":"1.1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ","slug":"_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"},{"level":3,"title":"1.2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ","slug":"_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ"},{"level":3,"title":"1.3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ","slug":"_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ"},{"level":3,"title":"1.4ã€ç›‘æµ‹æ‰€æœ‰çš„ key","slug":"_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key"},{"level":3,"title":"1.5ã€å±€é™æ€§","slug":"_1-5ã€å±€é™æ€§"},{"level":3,"title":"1.6ã€å°ç»“","slug":"_1-6ã€å°ç»“"},{"level":2,"title":"äºŒã€å¯¹ Array çš„ç›‘æµ‹","slug":"äºŒã€å¯¹-array-çš„ç›‘æµ‹"},{"level":3,"title":"2.1ã€æ‹¦æˆªå™¨","slug":"_2-1ã€æ‹¦æˆªå™¨"},{"level":3,"title":"2.2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ","slug":"_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"},{"level":3,"title":"2.3ã€å­˜å‚¨ä¾èµ–","slug":"_2-3ã€å­˜å‚¨ä¾èµ–"},{"level":3,"title":"2.4ã€æ”¶é›†ä¾èµ–","slug":"_2-4ã€æ”¶é›†ä¾èµ–"},{"level":3,"title":"2.5ã€é€šçŸ¥ä¾èµ–","slug":"_2-5ã€é€šçŸ¥ä¾èµ–"},{"level":3,"title":"2.6ã€å±€é™æ€§","slug":"_2-6ã€å±€é™æ€§"}],"relativePath":"source-analysis/Vue2.xæºç /1ã€ç¬¬ä¸€ç¯‡ï½œå˜åŒ–ä¾¦æµ‹.md","lastUpdated":1633751698596}',e={},c=[a("p",null,[t("è¿™æ˜¯ Vue2.x æºç åˆ†æçš„ç¬¬ä¸€ç¯‡ï¼Œä»‹ç»åœ¨ vue.js ä¸­å¦‚ä½•å¯¹ "),a("code",null,"Object"),t(" å’Œ "),a("code",null,"Array"),t(" è¿›è¡Œå˜åŒ–ä¾¦æµ‹çš„")],-1),a("p",null,"Vue.js çš„æ¸²æŸ“è¿‡ç¨‹æ˜¯å£°æ˜å¼çš„ï¼Œå½“å†…éƒ¨çš„çŠ¶æ€å‘ç”Ÿäº†å˜åŒ–ï¼Œéœ€è¦ä¸æ–­è¿›è¡Œé‡æ–°æ¸²æŸ“ï¼Œå˜åŒ–ä¾¦æµ‹å°±æ˜¯æ¥ç›‘å¬å†…éƒ¨çŠ¶æ€çš„å˜åŒ–ã€‚",-1),a("h2",{id:"ä¸€ã€å¯¹-object-çš„ç›‘æµ‹"},[a("a",{class:"header-anchor",href:"#ä¸€ã€å¯¹-object-çš„ç›‘æµ‹","aria-hidden":"true"},"#"),t(" ä¸€ã€å¯¹ Object çš„ç›‘æµ‹")],-1),a("p",null,[t("åœ¨ JS ä¸­å¯ä»¥ä½¿ç”¨ "),a("code",null,"Object.defineProperty"),t(" å’Œ "),a("code",null,"Proxy"),t(" è¿™ä¸¤ä¸ªæ–¹æ³•æ¥ç›‘æµ‹å˜åŒ–ï¼ŒVue 2.x ç‰ˆæœ¬è€ƒè™‘åˆ°å…¼å®¹æ€§ä½¿ç”¨çš„æ˜¯ "),a("code",null,"Object.defineProperty"),t(" æ–¹æ³•ï¼Œè€Œåœ¨ Vue 3.x ä¸­ä½¿ç”¨çš„æ˜¯ "),a("code",null,"Proxy"),t("ï¼Œåç»­ä»‹ç»")],-1),a("p",null,[t("åœ¨ Vue æºç ä¸­ï¼Œå¯¹ "),a("code",null,"Object.defineProperty"),t(" å°è£…å¦‚ä¸‹")],-1),a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"defineReactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(" val")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"defineProperty"),a("span",{class:"token punctuation"},"("),t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t("\n    enumerable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    configurable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"get"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveGetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"return"),t(" value\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"set"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveSetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"newVal"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("newVal "),a("span",{class:"token operator"},"==="),t(" val"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token keyword"},"return"),t("\n      "),a("span",{class:"token punctuation"},"}"),t("\n      val "),a("span",{class:"token operator"},"="),t(" newVal\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("æ‰€ä»¥ï¼Œå½“ä»"),a("code",null,"data"),t("çš„"),a("code",null,"key"),t("ä¸­è¯»å–æ•°æ®æ—¶ï¼Œ"),a("code",null,"get"),t("å‡½æ•°è¢«è§¦å‘ï¼›å½“å¾€"),a("code",null,"data"),t("çš„"),a("code",null,"key"),t("ä¸­è®¾ç½®æ•°æ®ï¼Œ"),a("code",null,"set"),t("å‡½æ•°è¢«è§¦å‘")],-1),a("h3",{id:"_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"},[a("a",{class:"header-anchor",href:"#_1-1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ","aria-hidden":"true"},"#"),t(" 1.1ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ")],-1),a("p",null,[t("åœ¨ä¸Šé¢ä½¿ç”¨ "),a("code",null,"Object.defineProperty"),t(" å¯¹æ•°æ®ç›‘æµ‹ï¼Œæ˜¯å› ä¸ºå½“æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œéœ€è¦é€šçŸ¥åˆ°é‚£äº›ä½¿ç”¨åˆ°è¯¥æ•°æ®çš„åœ°æ–¹ï¼Œä¾‹å¦‚ğŸ‘‡")],-1),a("div",{class:"language-html"},[a("pre",null,[a("code",null,[a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n  "),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("{{ title }}"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"<"),t("div")]),a("span",{class:"token punctuation"},">")]),t("\n"),a("span",{class:"token tag"},[a("span",{class:"token tag"},[a("span",{class:"token punctuation"},"</"),t("template")]),a("span",{class:"token punctuation"},">")]),t("\n")])])],-1),a("p",null,[t("åœ¨ç»„ä»¶çš„ "),a("code",null,"tempalte"),t(" ä¸­ä½¿ç”¨æ¥æ•°æ® "),a("code",null,"title"),t(", æ‰€ä»¥å½“ "),a("code",null,"title"),t(" å˜åŒ–äº†ï¼Œéœ€è¦é€šçŸ¥åˆ° "),a("code",null,"tempalte")],-1),a("p",null,[t("æ€»ç»“å°±æ˜¯ï¼š"),a("strong",null,[t("åœ¨"),a("code",null,"getter"),t("ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨"),a("code",null,"setter"),t("ä¸­è§¦å‘(é€šçŸ¥)ä¾èµ–")])],-1),a("h3",{id:"_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ"},[a("a",{class:"header-anchor",href:"#_1-2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ","aria-hidden":"true"},"#"),t(" 1.2ã€æ”¶é›†çš„ä¾èµ–å­˜åœ¨å“ªï¼Ÿ")],-1),a("p",null,[t("åœ¨ Vue æºç ä¸­ï¼Œä½¿ç”¨äº†ä¸€ä¸ª "),a("code",null,"Dep"),t(" ç±»æ¥å°è£…ä¾èµ–æ”¶é›†çš„ä»£ç ï¼Œé€šè¿‡è¿™ä¸ªç±»ï¼Œå¯ä»¥"),a("strong",null,"æ”¶é›†ä¾èµ–"),t("ã€"),a("strong",null,"åˆ é™¤ä¾èµ–"),t("æˆ–è€…"),a("strong",null,"å‘ä¾èµ–å‘é€šçŸ¥")],-1),a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/dep.js\n*/"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"default"),t(),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Dep"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"constructor"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// ç”¨äº†å­˜å‚¨ä¾èµ–"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("subs "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token punctuation"},"]"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"addSub"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"sub"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("subs"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"push"),a("span",{class:"token punctuation"},"("),t("sub"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"removeSub"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"sub"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token function"},"remove"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("subs"),a("span",{class:"token punctuation"},","),t(" sub"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"depend"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("window"),a("span",{class:"token punctuation"},"."),t("target"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"addSub"),a("span",{class:"token punctuation"},"("),t("window"),a("span",{class:"token punctuation"},"."),t("target"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"notify"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" subs "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("subs"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"slice"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),t(" l "),a("span",{class:"token operator"},"="),t(" subs"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" l"),a("span",{class:"token punctuation"},";"),t(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      subs"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"update"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("åœ¨ "),a("code",null,"defineReactive"),t(" å‡½æ•°ä¸­ï¼Œå°±å¯ä»¥ä½¿ç”¨ Dep ç±»äº†")],-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"defineReactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(" val")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token comment"},"// 1ã€æ¯ä¸ª key éƒ½åˆ›å»ºä¸€ä¸ªå®ä¾‹æ¥å­˜å‚¨è¯¥å±æ€§çš„ä¾èµ–"),t("\n  "),a("span",{class:"token keyword"},"const"),t(" dep "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Dep"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n  Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"defineProperty"),a("span",{class:"token punctuation"},"("),t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t("\n    enumerable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    configurable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"get"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveGetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token comment"},"// 2ã€å½“è·å–å±æ€§æ—¶ï¼Œæ”¶é›†ä¾èµ–"),t("\n      dep"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"depend"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n      "),a("span",{class:"token keyword"},"return"),t(" value\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"set"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveSetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"newVal"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("newVal "),a("span",{class:"token operator"},"==="),t(" val"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token keyword"},"return"),t("\n      "),a("span",{class:"token punctuation"},"}"),t("\n      val "),a("span",{class:"token operator"},"="),t(" newVal\n      "),a("span",{class:"token comment"},"// 3ã€å½“å±æ€§å‘ç”Ÿå˜åŒ–ï¼Œé€šçŸ¥ä¾èµ–"),t("\n      dep"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"notify"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("åœ¨æ”¶é›†ä¾èµ–å‰ï¼Œæˆ‘ä»¬å‡è®¾äº†ä¾èµ–ä¿å­˜åœ¨ "),a("code",null,"window.target"),t(" ä¸Šäº†ã€‚æ­¤æ—¶ï¼Œæˆ‘ä»¬çŸ¥é“äº†æ”¶é›†çš„ä¾èµ–æ˜¯å­˜å‚¨åˆ° "),a("code",null,"Dep"),t(" ä¸­çš„")],-1),a("h3",{id:"_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ"},[a("a",{class:"header-anchor",href:"#_1-3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ","aria-hidden":"true"},"#"),t(" 1.3ã€ä¾èµ–ä¸ºä½•ç‰©ï¼Ÿ")],-1),a("p",null,[t("ä¾èµ–ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨åˆ°æ•°æ®çš„åœ°æ–¹ï¼ŒåŒæ—¶ä¹Ÿæ˜¯æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦é€šçŸ¥åˆ°çš„åœ°æ–¹ã€‚ä»¥ "),a("code",null,"data"),t(" ä¸­çš„æ•°æ®ä¸ºä¾‹ï¼Œåœ¨ "),a("code",null,"template"),t("ã€"),a("code",null,"computed"),t("ã€"),a("code",null,"watch"),t(" ç­‰å¤šä¸ªåœ°æ–¹éƒ½å¯ä»¥ä½¿ç”¨åˆ°ï¼Œæ‰€ä»¥ï¼ŒVue.js å†…éƒ¨æŠ½è±¡å‡ºä¸€ä¸ªèƒ½é›†ä¸­å¤„ç†è¿™äº›æƒ…å†µçš„ç±»ï¼Œæ”¶é›†ä¾èµ–æ—¶ï¼Œåªéœ€è¦æ”¶é›†è¿™ä¸ªç±»çš„å®ä¾‹ï¼ŒåŒæ—¶é€šçŸ¥ä¹Ÿåªéœ€è¦é€šçŸ¥åˆ°å®ƒä¸€ä¸ªï¼Œå®ƒå†é€šçŸ¥åˆ°å…¶ä»–åœ°æ–¹ï¼Œè¿™ä¸ªç±»å«åš "),a("strong",null,"Watcher")],-1),a("p",null,[t("æ‰€ä»¥ï¼Œæ”¶é›†ä¾èµ–ï¼Œå°±æ˜¯æ”¶é›† "),a("strong",null,"Watcher"),t(" å®ä¾‹")],-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/watcher.js\n*/"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Watcher"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"constructor"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("vm"),a("span",{class:"token punctuation"},","),t(" expOrFn"),a("span",{class:"token punctuation"},","),t(" cb")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("vm "),a("span",{class:"token operator"},"="),t(" vm\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("getter "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"parsePath"),a("span",{class:"token punctuation"},"("),t("expOrFn"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("cb "),a("span",{class:"token operator"},"="),t(" cb\n    "),a("span",{class:"token comment"},"// 1ã€åˆå§‹åŒ–ï¼Œè°ƒç”¨ this.get() => this.getter()"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"get"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token function"},"get"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// 2ã€å½“å‰ Watcher å®ä¾‹ä¿å­˜åœ¨ window.target ä¸Š"),t("\n    window"),a("span",{class:"token punctuation"},"."),t("target "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),t("\n    "),a("span",{class:"token keyword"},"let"),t(" value "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"getter"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("vm"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("vm"),a("span",{class:"token punctuation"},")"),t("\n    window"),a("span",{class:"token punctuation"},"."),t("target "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"undefined"),t("\n    "),a("span",{class:"token keyword"},"return"),t(" value\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token function"},"update"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// 3ã€å±æ€§å˜åŒ–ï¼Œé€šçŸ¥ä¾èµ–ä¼šè°ƒç”¨ update æ–¹æ³•, å†å»æ‰§è¡Œå›è°ƒå‡½æ•°cb"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" oldValue "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"get"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"cb"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"call"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("vm"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value"),a("span",{class:"token punctuation"},","),t(" oldValue"),a("span",{class:"token punctuation"},")"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("æ‰€ä»¥ï¼Œæ— è®ºæ˜¯ "),a("code",null,"vm.$watch('obj.name',(value, oldValue) => {})"),t(" è¿˜æ˜¯æ¨¡ç‰ˆä¸­ä½¿ç”¨"),a("code",null,"obj.name"),t(", å½“æ•°æ®å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéƒ½éœ€è¦é€šè¿‡ "),a("code",null,"Watcher"),t(" æ¥è¿›è¡Œé€šçŸ¥ï¼Œæ‰§è¡Œå„ç§çš„å›è°ƒå‡½æ•°")],-1),a("h3",{id:"_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key"},[a("a",{class:"header-anchor",href:"#_1-4ã€ç›‘æµ‹æ‰€æœ‰çš„-key","aria-hidden":"true"},"#"),t(" 1.4ã€ç›‘æµ‹æ‰€æœ‰çš„ key")],-1),a("p",null,[a("code",null,"defineReactive"),t(" æ–¹æ³•æ˜¯ç›‘æµ‹æ•°æ®ä¸­çš„å•ä¸ªå±æ€§ï¼Œè€Œæˆ‘ä»¬éœ€è¦ç›‘æµ‹åˆ°æ‰€æœ‰çš„å±æ€§ï¼ˆåŒ…æ‹¬å­å±æ€§ï¼‰ï¼Œå°†å…¶éƒ½è½¬æ¢æˆ "),a("code",null,"getter/setter"),t(" çš„å½¢å¼")],-1),a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Observer"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"constructor"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("value"),a("span",{class:"token operator"},":"),t(" any")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(" value\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"!"),t("Array"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"isArray"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"walk"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"walk"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("obj"),a("span",{class:"token operator"},":"),t(" Object")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" keys "),a("span",{class:"token operator"},"="),t(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"keys"),a("span",{class:"token punctuation"},"("),t("obj"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" keys"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token function"},"defineReactive"),a("span",{class:"token punctuation"},"("),t("obj"),a("span",{class:"token punctuation"},","),t(" keys"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},","),t(" obj"),a("span",{class:"token punctuation"},"["),t("keys"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"defineReactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(" val")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token comment"},"/*çœç•¥*/"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("h3",{id:"_1-5ã€å±€é™æ€§"},[a("a",{class:"header-anchor",href:"#_1-5ã€å±€é™æ€§","aria-hidden":"true"},"#"),t(" 1.5ã€å±€é™æ€§")],-1),a("p",null,[t("Vue.js é€šè¿‡ "),a("code",null,"Object.defineProperty"),t(" æ¥å°†å¯¹è±¡çš„ key è½¬æ¢æˆ "),a("code",null,"getter/setter"),t(" çš„å½¢å¼æ¥è¿½è¸ªå˜åŒ–ï¼Œä½† "),a("code",null,"getter/setter"),t(" åªèƒ½è¿½è¸ªä¸€ä¸ªæ•°æ®æ˜¯å¦è¢«ä¿®æ”¹ï¼Œæ— æ³•è¿½è¸ªæ–°å¢çš„å±æ€§å·²ç»åˆ é™¤çš„å±æ€§ï¼Œä¸ºäº†è§£å†³è¿™é—®é¢˜ï¼ŒVue.js æä¾›äº† "),a("strong",null,[a("code",null,"$set")]),t(" å’Œ "),a("strong",null,[a("code",null,"$delete")]),t(" ä¸¤ä¸ªAPI")],-1),a("h3",{id:"_1-6ã€å°ç»“"},[a("a",{class:"header-anchor",href:"#_1-6ã€å°ç»“","aria-hidden":"true"},"#"),t(" 1.6ã€å°ç»“")],-1),a("p",null,"å…³äºå¦‚ä½•ç›‘æµ‹Object,æ±‡æ€»å¦‚ä¸‹å›¾ğŸ‘‡",-1),a("p",null,[a("img",{src:"/portal-blog/images/vue/defineProperty.png",alt:"ç›‘æµ‹Object"})],-1),a("h2",{id:"äºŒã€å¯¹-array-çš„ç›‘æµ‹"},[a("a",{class:"header-anchor",href:"#äºŒã€å¯¹-array-çš„ç›‘æµ‹","aria-hidden":"true"},"#"),t(" äºŒã€å¯¹ Array çš„ç›‘æµ‹")],-1),a("p",null,[t("å¯¹ Array çš„ç›‘æµ‹ä¸èƒ½ä½¿ç”¨ "),a("code",null,"getter/setter"),t(" æ–¹æ³•ï¼Œæ˜¯å› ä¸ºæˆ‘ä»¬å¸¸é€šè¿‡ Array åŸå‹ä¸Šçš„æ–¹æ³•æ¥æ”¹å˜æ•°ç»„çš„å†…å®¹")],-1),a("p",null,[t("é€šè¿‡æ±‡æ€»ï¼ŒArray åŸå‹ä¸Šå¯ä»¥æ”¹å˜æ•°ç»„è‡ªèº«å†…å®¹çš„æ–¹æ³•å…± 7 ä¸ªï¼Œåˆ†åˆ«æ˜¯ï¼š"),a("code",null,"push"),t(", "),a("code",null,"pop"),t(", "),a("code",null,"shift"),t(", "),a("code",null,"unshift"),t(", "),a("code",null,"slice"),t(", "),a("code",null,"sort"),t(", "),a("code",null,"reverse")],-1),a("h3",{id:"_2-1ã€æ‹¦æˆªå™¨"},[a("a",{class:"header-anchor",href:"#_2-1ã€æ‹¦æˆªå™¨","aria-hidden":"true"},"#"),t(" 2.1ã€æ‹¦æˆªå™¨")],-1),a("p",null,"æƒ³è¦ç›‘æµ‹æ•°ç»„çš„å˜åŒ–ï¼Œåªéœ€ç”¨ä¸€ä¸ªæ‹¦æˆªå™¨è¦†ç›– ArrayåŸå‹ï¼Œå½“ä½¿ç”¨ä¸Šè¿° 7 ç§æ–¹æ³•ä¿®æ”¹æ•°ç»„æ—¶ï¼Œæ‰§è¡Œçš„æ—¶æ‹¦æˆªå™¨ä¸­çš„æ–¹æ³•",-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/array.js\n*/"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" def "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'../util/index'"),t("\n"),a("span",{class:"token comment"},"// 1ã€åŸºäº Array.prototype åˆ›å»ºä¸€ä¸ªæ‹¦æˆªå™¨"),t("\n"),a("span",{class:"token keyword"},"const"),t(" arrayProto "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token class-name"},"Array"),a("span",{class:"token punctuation"},"."),t("prototype\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"const"),t(" arrayMethods "),a("span",{class:"token operator"},"="),t(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"create"),a("span",{class:"token punctuation"},"("),t("arrayProto"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" methodsToPatch "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),t("\n  "),a("span",{class:"token string"},"'push'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'pop'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'shift'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'unshift'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'splice'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'sort'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'reverse'"),t("\n"),a("span",{class:"token punctuation"},"]"),t("\n\nmethodsToPatch"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"forEach"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"method"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"const"),t(" original "),a("span",{class:"token operator"},"="),t(" arrayProto"),a("span",{class:"token punctuation"},"["),t("method"),a("span",{class:"token punctuation"},"]"),t("\n  "),a("span",{class:"token comment"},"// 2ã€åœ¨æ‹¦æˆªå™¨ä¸Šé‡æ–°å®šä¹‰ä¸Šè¿° 7 ä¸ªæ–¹æ³•"),t("\n  "),a("span",{class:"token function"},"def"),a("span",{class:"token punctuation"},"("),t("arrayMethods"),a("span",{class:"token punctuation"},","),t(" method"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"mutator"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[a("span",{class:"token operator"},"..."),t("args")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token comment"},"// 3ã€æ‰§è¡Œæ–¹æ³•æœ¬èº«çš„é€»è¾‘ï¼Œè¿”å›æ‰§è¡Œç»“æœ"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" result "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"original"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"apply"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},","),t(" args"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"return"),t(" result\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n\n")])])],-1),a("h3",{id:"_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ"},[a("a",{class:"header-anchor",href:"#_2-2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ","aria-hidden":"true"},"#"),t(" 2.2ã€å¦‚ä½•æ”¶é›†ä¾èµ–ï¼Ÿ")],-1),a("p",null,"å¯¹æ•°ç»„è€Œè¨€ï¼Œé€šçŸ¥ä¾èµ–è‚¯å®šæ˜¯åœ¨æ‹¦æˆªå™¨ä¸­ï¼Œé‚£ä¹ˆï¼Œæ•°ç»„åœ¨å“ªé‡Œæ”¶é›†ä¾èµ–å‘¢ï¼Ÿçœ‹ä¸ªä¾‹å­",-1),a("div",{class:"language-js"},[a("pre",null,[a("code",null,[a("span",{class:"token punctuation"},"{"),t("\n  list"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token punctuation"},"["),a("span",{class:"token number"},"1"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},","),a("span",{class:"token number"},"3"),a("span",{class:"token punctuation"},"]"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("ä»¥ä¸Šé¢æ•°æ®ä¸ºä¾‹ï¼Œåªæœ‰é€šè¿‡ "),a("code",null,"list"),t(" å±æ€§ï¼Œæ‰èƒ½è·å–è¿™ä¸ªæ•°ç»„ï¼Œé‚£ä¹ˆè¯»å– "),a("code",null,"list"),t(" å±æ€§ï¼Œä¸€å®šä¸ºè§¦å‘"),a("code",null,"list"),t("å±æ€§çš„ "),a("code",null,"getter"),t(" æ–¹æ³•ï¼Œæ‰€ä»¥æ•°ç»„ä¹Ÿæ˜¯åœ¨ "),a("code",null,"getter"),t(" ä¸­æ”¶é›†ä¾èµ–")],-1),a("p",null,[t("æ‰€ä»¥ï¼Œ"),a("strong",null,"Array åœ¨ getter ä¸­æ”¶é›†ä¾èµ–ï¼Œåœ¨æ‹¦æˆªå™¨ä¸­è§¦å‘(é€šçŸ¥)ä¾èµ–")],-1),a("h3",{id:"_2-3ã€å­˜å‚¨ä¾èµ–"},[a("a",{class:"header-anchor",href:"#_2-3ã€å­˜å‚¨ä¾èµ–","aria-hidden":"true"},"#"),t(" 2.3ã€å­˜å‚¨ä¾èµ–")],-1),a("p",null,"Array çš„ä¾èµ–ä¹Ÿæ˜¯é€šè¿‡ Dep å®ä¾‹æ¥è¿›è¡Œä¿å­˜ï¼Œä½†ä¸ Object ä¸åŒçš„æ˜¯ï¼ŒVue.js æŠŠ Array çš„ dep æ”¾åˆ° Observer ä¸­äº†ï¼Œè€Œå¯¹è±¡å±æ€§å¯¹åº”çš„ dep åˆ™åœ¨ defineReactive å‡½æ•°ä¸­",-1),a("p",null,"ä¹‹æ‰€ä»¥æ”¾åœ¨ Observer ä¸­, æ˜¯å› ä¸ºåœ¨ getter å’Œæ‹¦æˆªå™¨ä¸­éƒ½éœ€è¦è®¿é—®åˆ°è¿™ä¸ª dep å®ä¾‹",-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("br"),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Observer"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"constructor"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("value"),a("span",{class:"token operator"},":"),t(" any")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(" value\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("dep "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Dep"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("Array"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"isArray"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"observeArray"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t(" \n    "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"walk"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n\n  "),a("span",{class:"token function"},"observeArray"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("items"),a("span",{class:"token operator"},":"),t(" Array"),a("span",{class:"token operator"},"<"),t("any"),a("span",{class:"token operator"},">")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"for"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"let"),t(" i "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token number"},"0"),a("span",{class:"token punctuation"},","),t(" l "),a("span",{class:"token operator"},"="),t(" items"),a("span",{class:"token punctuation"},"."),t("length"),a("span",{class:"token punctuation"},";"),t(" i "),a("span",{class:"token operator"},"<"),t(" l"),a("span",{class:"token punctuation"},";"),t(" i"),a("span",{class:"token operator"},"++"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token comment"},"// 2ã€å¯èƒ½æ˜¯å¯¹è±¡æ•°ç»„ï¼Œéœ€è¦ç›‘æµ‹æ•°ç»„æ¯ä¸€é¡¹"),t("\n      "),a("span",{class:"token function"},"observe"),a("span",{class:"token punctuation"},"("),t("items"),a("span",{class:"token punctuation"},"["),t("i"),a("span",{class:"token punctuation"},"]"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("h3",{id:"_2-4ã€æ”¶é›†ä¾èµ–"},[a("a",{class:"header-anchor",href:"#_2-4ã€æ”¶é›†ä¾èµ–","aria-hidden":"true"},"#"),t(" 2.4ã€æ”¶é›†ä¾èµ–")],-1),a("p",null,"æˆ‘ä»¬éœ€è¦åœ¨ getter ä¸­è®¿é—®åˆ° dep å®ä¾‹ï¼Œæ‰èƒ½æ”¶é›†ä¾èµ–ï¼Œä»£ç å¦‚ä¸‹",-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"defineReactive"),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(" val")]),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token comment"},"// 1ã€æ­¤å¤„å‡è®¾ val æ˜¯ä¸ªæ•°ç»„"),t("\n  "),a("span",{class:"token keyword"},"let"),t(" childOb "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"observer"),a("span",{class:"token punctuation"},"("),t("val"),a("span",{class:"token punctuation"},")"),t("\n  Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"defineProperty"),a("span",{class:"token punctuation"},"("),t("obj"),a("span",{class:"token punctuation"},","),t(" key"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token punctuation"},"{"),t("\n    enumerable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    configurable"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token boolean"},"true"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"get"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveGetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token comment"},"// 2ã€æ”¶é›†ä¾èµ–"),t("\n      "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("childOb"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        childOb"),a("span",{class:"token punctuation"},"."),t("dep"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"depend"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n      "),a("span",{class:"token punctuation"},"}"),t("\n      "),a("span",{class:"token keyword"},"return"),t(" value\n    "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},","),t("\n    "),a("span",{class:"token function-variable function"},"set"),a("span",{class:"token operator"},":"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"reactiveSetter"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"newVal"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("newVal "),a("span",{class:"token operator"},"==="),t(" val"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n        "),a("span",{class:"token keyword"},"return"),t("\n      "),a("span",{class:"token punctuation"},"}"),t("\n      val "),a("span",{class:"token operator"},"="),t(" newVal\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"observe"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"value"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token operator"},"!"),a("span",{class:"token function"},"isObject"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"||"),t(" value "),a("span",{class:"token keyword"},"instanceof"),t(),a("span",{class:"token class-name"},"VNode"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"return"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token keyword"},"let"),t(" ob"),a("span",{class:"token operator"},":"),t(" Observer "),a("span",{class:"token operator"},"|"),t(),a("span",{class:"token keyword"},"void"),t("\n  "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token function"},"hasOwn"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},"'__ob__'"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token operator"},"&&"),t(" value"),a("span",{class:"token punctuation"},"."),t("__ob__ "),a("span",{class:"token keyword"},"instanceof"),t(),a("span",{class:"token class-name"},"Observer"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    ob "),a("span",{class:"token operator"},"="),t(" value"),a("span",{class:"token punctuation"},"."),t("__ob__ "),a("span",{class:"token comment"},"// å½“æ•°æ®å·²ç»æ£€æµ‹è¿‡ï¼Œç›´æ¥è¿”å›"),t("\n  "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n    ob "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Observer"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token comment"},"// è¿›è¡Œæ£€æµ‹"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token keyword"},"return"),t(" ob\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("ä»¥æ•°æ® "),a("code",null,"list: [1,2,3]"),t(" ä¸ºä¾‹ï¼Œå½“è®¿é—®å±æ€§ list, ä¼šå¯¹æ•°ç»„ "),a("code",null,"[1,2,3]"),t(" è¿›è¡Œç›‘æµ‹")],-1),a("h3",{id:"_2-5ã€é€šçŸ¥ä¾èµ–"},[a("a",{class:"header-anchor",href:"#_2-5ã€é€šçŸ¥ä¾èµ–","aria-hidden":"true"},"#"),t(" 2.5ã€é€šçŸ¥ä¾èµ–")],-1),a("p",null,"Array å‘ç”Ÿå˜åŒ–æ—¶ï¼Œéœ€è¦åœ¨æ‹¦æˆªå™¨ä¸­è®¿é—®åˆ° Observer å®ä¾‹ï¼Œé€šè¿‡å…¶ dep å±æ€§é€šçŸ¥ä¾èµ–",-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/index.js\n*/"),t("\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"class"),t(),a("span",{class:"token class-name"},"Observer"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token function"},"constructor"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[t("value"),a("span",{class:"token operator"},":"),t(" any")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("value "),a("span",{class:"token operator"},"="),t(" value\n    "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("dep "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"new"),t(),a("span",{class:"token class-name"},"Dep"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token function"},"def"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token string"},"'__ob__'"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("Array"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"isArray"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"observeArray"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t(" \n    "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"else"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"walk"),a("span",{class:"token punctuation"},"("),t("value"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token punctuation"},"}"),t("\n  "),a("span",{class:"token comment"},"//..."),t("\n"),a("span",{class:"token punctuation"},"}"),t("\n")])])],-1),a("p",null,[t("åœ¨ "),a("code",null,"value"),t(" ä¸Šå¢åŠ  "),a("code",null,"__ob__"),t(" å±æ€§å³å¯è®¿é—®åˆ° "),a("code",null,"Observer"),t(" å®ä¾‹ï¼Œç»§è€Œå¯ä»¥è®¿é—® "),a("code",null,"dep"),t(" å±æ€§")],-1),a("p",null,[t("æ¥ä¸‹æ¥ï¼Œåªéœ€è¦åœ¨æ‹¦æˆªå™¨ä¸­é€šçŸ¥ä¾èµ–, åŒæ—¶ï¼Œå½“æˆ‘ä»¬ä½¿ç”¨ "),a("code",null,"push"),t(", "),a("code",null,"unshift"),t(", "),a("code",null,"splice"),t(" æ—¶ä¼šå¾€æ•°ç»„ä¸­æ·»åŠ æ–°å…ƒç´ ï¼Œæ–°å¢çš„å…ƒç´ ä¹Ÿéœ€è¦è¢«ç›‘æµ‹åˆ°ã€‚")],-1),a("div",{class:"language-js"},[a("div",{class:"highlight-lines"},[a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("br"),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("div",{class:"highlighted"},"Â "),a("br"),a("br"),a("br"),a("br")]),a("pre",null,[a("code",null,[a("span",{class:"token comment"},"/*\n@filePath: src/core/observer/array.js\n*/"),t("\n"),a("span",{class:"token keyword"},"import"),t(),a("span",{class:"token punctuation"},"{"),t(" def "),a("span",{class:"token punctuation"},"}"),t(),a("span",{class:"token keyword"},"from"),t(),a("span",{class:"token string"},"'../util/index'"),t("\n"),a("span",{class:"token keyword"},"const"),t(" arrayProto "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token class-name"},"Array"),a("span",{class:"token punctuation"},"."),t("prototype\n"),a("span",{class:"token keyword"},"export"),t(),a("span",{class:"token keyword"},"const"),t(" arrayMethods "),a("span",{class:"token operator"},"="),t(" Object"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"create"),a("span",{class:"token punctuation"},"("),t("arrayProto"),a("span",{class:"token punctuation"},")"),t("\n\n"),a("span",{class:"token keyword"},"const"),t(" methodsToPatch "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token punctuation"},"["),t("\n  "),a("span",{class:"token string"},"'push'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'pop'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'shift'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'unshift'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'splice'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'sort'"),a("span",{class:"token punctuation"},","),t("\n  "),a("span",{class:"token string"},"'reverse'"),t("\n"),a("span",{class:"token punctuation"},"]"),t("\n\nmethodsToPatch"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"forEach"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},"method"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n  "),a("span",{class:"token keyword"},"const"),t(" original "),a("span",{class:"token operator"},"="),t(" arrayProto"),a("span",{class:"token punctuation"},"["),t("method"),a("span",{class:"token punctuation"},"]"),t("\n  "),a("span",{class:"token function"},"def"),a("span",{class:"token punctuation"},"("),t("arrayMethods"),a("span",{class:"token punctuation"},","),t(" method"),a("span",{class:"token punctuation"},","),t(),a("span",{class:"token keyword"},"function"),t(),a("span",{class:"token function"},"mutator"),t(),a("span",{class:"token punctuation"},"("),a("span",{class:"token parameter"},[a("span",{class:"token operator"},"..."),t("args")]),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" result "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token function"},"original"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"apply"),a("span",{class:"token punctuation"},"("),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},","),t(" args"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"const"),t(" ob "),a("span",{class:"token operator"},"="),t(),a("span",{class:"token keyword"},"this"),a("span",{class:"token punctuation"},"."),t("__ob__\n    "),a("span",{class:"token keyword"},"let"),t(" inserted\n    "),a("span",{class:"token keyword"},"switch"),t(),a("span",{class:"token punctuation"},"("),t("method"),a("span",{class:"token punctuation"},")"),t(),a("span",{class:"token punctuation"},"{"),t("\n      "),a("span",{class:"token keyword"},"case"),t(),a("span",{class:"token string"},"'push'"),a("span",{class:"token operator"},":"),t("\n      "),a("span",{class:"token keyword"},"case"),t(),a("span",{class:"token string"},"'unshift'"),a("span",{class:"token operator"},":"),t("\n        inserted "),a("span",{class:"token operator"},"="),t(" args\n        "),a("span",{class:"token keyword"},"break"),t("\n      "),a("span",{class:"token keyword"},"case"),t(),a("span",{class:"token string"},"'splice'"),a("span",{class:"token operator"},":"),t("\n        inserted "),a("span",{class:"token operator"},"="),t(" args"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"slice"),a("span",{class:"token punctuation"},"("),a("span",{class:"token number"},"2"),a("span",{class:"token punctuation"},")"),t("\n        "),a("span",{class:"token keyword"},"break"),t("\n    "),a("span",{class:"token punctuation"},"}"),t("\n    "),a("span",{class:"token keyword"},"if"),t(),a("span",{class:"token punctuation"},"("),t("inserted"),a("span",{class:"token punctuation"},")"),t(" ob"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"observeArray"),a("span",{class:"token punctuation"},"("),t("inserted"),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token comment"},"// notify change"),t("\n    ob"),a("span",{class:"token punctuation"},"."),t("dep"),a("span",{class:"token punctuation"},"."),a("span",{class:"token function"},"notify"),a("span",{class:"token punctuation"},"("),a("span",{class:"token punctuation"},")"),t("\n    "),a("span",{class:"token keyword"},"return"),t(" result\n  "),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n"),a("span",{class:"token punctuation"},"}"),a("span",{class:"token punctuation"},")"),t("\n")])])],-1),a("h3",{id:"_2-6ã€å±€é™æ€§"},[a("a",{class:"header-anchor",href:"#_2-6ã€å±€é™æ€§","aria-hidden":"true"},"#"),t(" 2.6ã€å±€é™æ€§")],-1),a("p",null,"é€šè¿‡ Array ä¸‹æ ‡ä¿®æ”¹å…ƒç´ çš„å€¼ï¼Œæˆ–è€…è®¾ç½® list.length = 0 æ¥æ¸…ç©ºæ•°ç»„ç­‰ï¼ŒVue.js éƒ½æ— æ³•ç›‘æµ‹æ•°ç»„çš„å˜åŒ–",-1)];e.render=function(a,t,o,e,p,l){return n(),s("div",null,c)};export{o as __pageData,e as default};
